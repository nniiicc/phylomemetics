






(function(){
geolocation = {};
geolocation.requestGeo=function(b,a,e){if(e){var d={};document.cookie.replace(/([^\s;]*)=([^;]*)/ig,function(a,b,c){100>=c.length&&0!==b.indexOf("optimizely")&&(d["c_"+b]=unescape(c))});d.project=a;var a=[],c;for(c in d)d.hasOwnProperty(c)&&a.push(encodeURIComponent(c)+"="+encodeURIComponent(d[c]));b+="?"+a.join("&")}c=b;b=document.head||document.getElementsByTagName("head")[0]||document.documentElement;a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=c;b.insertBefore(a,
b.firstChild)};
})();
optimizelyCode = function(){
var DATA={"installation_verified":true,"log_host":"log.optimizely.com","goal_expressions":{"148050312":["^subscribe\\_link$"],"241665673":["^3054\\-tools\\-subscribe$"],"773270288":["^subscribe\\_link\\_clicks$"],"147881490":["^link\\_my\\_home\\_delivery\\_account$"],"241432984":["^3054\\-get\\-started\\-today$"],"124480921":["^engagement$"],"1772420506":["^get\\ access\\ button$"],"182684063":["^get\\_access\\_button$"],"241383850":["^3054\\-link\\-sub\\-v1$"],"181649582":["^subscribe\\_tab$"],"241514808":["^3054\\-link\\-button$"],"1770950457":["^paywall\\ login\\ button$"],"138581693":["^get\\_started\\_today$"],"1583820992":["^meter\\ message\\ \\-\\ get\\ access\\ button\\/link$"],"241761229":["^3054\\-log\\-in\\-v1$"],"1523521998":["^sign\\ up\\ link\\ clicks$"],"1505590867":["^sign\\ up\\ clicks$"],"299168334":["^3054\\-mec\\-landing$"],"182665442":["^login\\_button\\_2831$"],"1040732263":["^smart\\_bar\\_clicks$"],"291197813":["^3054\\-mec\\-conversion$"],"147732855":["^login\\_button$"],"241739389":["^3054\\-login\\-button$"],"182674174":["^link\\_my\\_account$"]},"experiments":{"1483353216":{"code":"window.$(document).ajaxComplete(function() { \n window.optimizely.push([\"activate\", 1468043952]); \n window.console.log(\"ajaxComplete call bootstrapping experiment -- Hello1\");\n});","enabled":true,"variation_weights":{"1478782365":10000},"conditions":[{"type":"url","values":[{"value":"qaweb.bostonglobe.com","match":"substring"},{"value":".*qaedit\\.bostonglobe\\.com.*(comments\\.html|story\\.html|picture\\.html).*","match":"regex"},{"value":"devedit.bostonglobe.com","match":"substring"},{"value":"http://www.bostonglobe.com/lifestyle/health-wellness/2014/07/16/niacin-drug-causes-serious-side-effects-and-heart-benefits-study-finds/GXzB21QwDbyhSGkC8zDIEI/story.html?optimizely=test","match":"exact"}]},{"not":true,"type":"url","values":[{"value":"www.bostonglobe.com","match":"exact"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"name":"Bootstrap - In This Section","variation_ids":["1485212194","1478782365"],"site_catalyst_evar":3,"enabled_variation_ids":["1478782365"],"site_catalyst_prop":18},"1578591042":{"name":"bostonglobe.com Experiment","conditions":[{"type":"url","values":[{"value":"http://bostonglobe.com","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"enabled_variation_ids":["1581541127","1585251075"],"variation_ids":["1581541127","1585251075"]},"1213780163":{"name":"Test Experiment for AAM","conditions":[{"type":"segment","values":["1339790412"]},{"type":"url","values":[{"value":"http://devweb.bostonglobe.com/metro/2014/06/26/casino-decision-could-have-many-impacts-political-landscape/RBQ4noNrbb3yH3oFKttvAM/story.html","match":"exact"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"enabled_variation_ids":["1245770088","1207260150"],"variation_ids":["1245770088","1207260150"]},"1914250405":{"name":"Radical Paywall test #2","variation_ids":["1891681077","1883100722"],"urls":[{"match":"simple","value":"http://www.bostonglobe.com"}],"enabled_variation_ids":["1891681077","1883100722"]},"1329990822":{"name":"Bootstrap - AAM TEST","conditions":[{"type":"url","values":[{"value":"http://www.bostonglobe.com/business/2014/06/17/telexfree-owner-james-merrill-set-free-bail/cSMbK8slkVxZNxEISoKdRO/story.html","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"enabled_variation_ids":["1276541759","1336195504"],"variation_ids":["1276541759","1336195504"]},"1470639784":{"name":"In This Section Text test","conditions":[{"type":"url","values":[{"value":"http://www.bostonglobe.com/metro/2014/07/10/city-animal-shelter-found-crisis/ezQXnr5QDvXrXKMcKOq8SI/story.html","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"enabled_variation_ids":["1482402359","1469022887"],"variation_ids":["1482402359","1469022887"]},"753650859":{"conditions":[{"not":true,"type":"cookies","values":[""],"names":["pathAuth"]},{"type":"url","values":[{"value":"http://www\\.bostonglobe\\.com.*\\.html","match":"regex"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"name":"Subscribe link","variation_ids":["758940792","751441003","771291665"],"site_catalyst_evar":3,"enabled_variation_ids":["758940792","751441003","771291665"],"site_catalyst_prop":17},"1831400621":{"audiences":[1814840395],"name":"Integrated Offer page","variation_ids":["1811130413","1813330476"],"urls":[{"match":"substring","value":"qaweb.bostonglobe.com"},{"match":"substring","value":"devedit.bostonglobe.com"},{"match":"substring","value":"qaedit.bostonglobe.com"},{"negate":true,"match":"substring","value":"www.bostonglobe.com"},{"negate":true,"match":"substring","value":"prdedit.bostonglobe.com"},{"negate":true,"match":"simple","value":"prdweb.bostonglobe.com"}],"enabled_variation_ids":["1811130413","1813330476"]},"1758512546":{"name":"Training Ethan Woo","variation_ids":["1766140421","1758663108"],"urls":[{"match":"substring","value":"devedit.bostonglobe.com"},{"match":"simple","value":"devweb.bostonglobe.com"},{"negate":true,"match":"substring","value":"www.bostonglobe.com"}],"enabled_variation_ids":["1758663108"]},"1468043952":{"enabled":true,"variation_weights":{"1482274471":10000},"name":"In This Section Text","manual":true,"variation_ids":["1472663889","1482274471"],"urls":[{"match":"substring","value":"qaweb.bostonglobe.com"},{"match":"regex","value":".*qaedit\\.bostonglobe\\.com.*(story\\.html|picture\\.html)"},{"match":"substring","value":"devedit.bostonglobe.com"},{"match":"exact","value":"http://www.bostonglobe.com/lifestyle/health-wellness/2014/07/16/niacin-drug-causes-serious-side-effects-and-heart-benefits-study-finds/GXzB21QwDbyhSGkC8zDIEI/story.html?optimizely=test"},{"negate":true,"match":"exact","value":"www.bostonglobe.com"}],"enabled_variation_ids":["1482274471"]},"1712880278":{"audiences":[1741240624],"css":".bg-modal-meter--paywall {\n  background-color: #008131;\n}\n\n.bg-modal-meter__spacer {\n  height: 50px;\n}\n\n.bg-modal-meter__header {\n  display: block;\n}\n\n.bg-modal-meter__overlay {\n  position: absolute;\n  top: 0;\n}\n\n.bg-modal-meter__text--heading, .bg-modal-meter--paywall__text--heading {\n  color: #008131;\n  display: block;\n  font-size: 42px;\n  margin-bottom: 20px;\n}\n\n.bg-modal-meter__text--trending-label {\n  font-size: 13px;\n  color: black;\n  font-family: Arial, Helvetica, sans-serif;\n  margin-bottom: 5px;\n}\n\n.bg-modal-meter__button, .bg-modal-meter__button--black--right {\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 16px;\n  color: #fff;\n  padding: 12px 18px;\n  background-image: linear-gradient(to bottom, #008131, #004d0e);\n  background: -moz-linear-gradient(top, #008131 0%, #004d0e);\n  background: -webkit-gradient(linear, left top, left bottom, from(#008131), to(#004d0e));\n  filter: progid:DXImageTransform.Microsoft.Gradient(startColorstr='#008131', endColorstr='#004d0e');\n  float: left;\n  -moz-border-radius: 6px;\n  -webkit-border-radius: 6px;\n  border-radius: 10px;\n  border: 0px solid #003366;\n  -moz-box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.5), inset 0px 0px 1px white;\n  -webkit-box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.5), inset 0px 0px 1px white;\n  box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.5), inset 0px 0px 1px white;\n  text-shadow: 0px -1px 0px rgba(0, 0, 0, 0.7), 0px 1px 0px rgba(255, 255, 255, 0.3);\n}\n.bg-modal-meter__button a, .bg-modal-meter__button--black--right a {\n  color: #fff;\n}\n\n.bg-modal-meter__button--black--right {\n  float: right;\n  font-size: 10px;\n  padding: 7px;\n  background-image: linear-gradient(to bottom, #999999, #aaaaaa);\n  background: -moz-linear-gradient(top, #999999 0%, #aaaaaa);\n  background: -webkit-gradient(linear, left top, left bottom, from(#999999), to(#555555));\n  filter: progid:DXImageTransform.Microsoft.Gradient(startColorstr='#999', endColorstr='#aaa');\n}\n.bg-modal-meter__button--black--right:after {\n  clear: both;\n}\n\n.bg-modal-meter__image--B-logo {\n  float: right;\n  height: 70px;\n}\n\n.bg-modal-meter__trending {\n  margin: 0 auto;\n  margin-bottom: 20px;\n}\n.bg-modal-meter__trending h1 {\n  text-align: center;\n  color: #000;\n  margin: 1em;\n  font: bold 1.54545455em/0.823529412 \"Benton Sans Bold\", Arial, Helvetica, sans-serif;\n  /* 17px / 11px; 14px / 17px */\n  margin: 0 !important;\n}\n.bg-modal-meter__trending h1 a,\n.bg-modal-meter__trending h1 i {\n  display: none !important;\n}\n.bg-modal-meter__trending h1 b {\n  line-height: 1.3em;\n}\n.bg-modal-meter__trending ul.aside {\n  font-family: Georgia, \"Times New Roman\", Times, serif;\n  counter-reset: trending-counter;\n  padding: 12px 0px;\n  border-top: 1px solid #999;\n  border-bottom: 1px solid #999;\n}\n.bg-modal-meter__trending ul.aside li {\n  box-sizing: border-box;\n  border-left: 1px solid #dbdbdb;\n  width: 30%;\n  display: inline-block;\n  vertical-align: top;\n}\n.bg-modal-meter__trending ul.aside li:first-child {\n  border-left: none;\n}\n.bg-modal-meter__trending ul.aside li > a {\n  color: #333;\n  display: block;\n  font-size: 1.3em;\n  padding: 0.5em;\n  padding-left: 3.5em;\n  text-decoration: none;\n  min-height: 34px;\n  vertical-align: middle;\n}\n.bg-modal-meter__trending ul.aside li > a:before {\n  content: counter(trending-counter);\n  counter-increment: trending-counter;\n  margin-top: -0.25em;\n  margin-left: -24px;\n  position: absolute;\n  color: black;\n  font-size: 2.45em;\n}\n.bg-modal-meter__trending ul.aside li > a:visited {\n  color: #777;\n  font-weight: normal;\n}\n.bg-modal-meter__trending ul.aside li > a:hover {\n  color: #000;\n  text-decoration: none;\n  font-weight: normal;\n}\n.bg-modal-meter__trending ul.aside li:first-child > a {\n  border: none;\n}\n\n.bg-modal-meter--paywall#meter-limit-met-popup {\n  padding: 20px 26px;\n  background: url(\"http://www.bostonglobe.com/img/BG-Meter-Image-3.jpg\") no-repeat;\n  background-color: #fff;\n  width: 100%;\n}\n\n@media (max-width: 480px) {\n  .bg-modal-meter--paywall#meter-limit-met-popup {\n    background-position-x:-170px;\n  }\n}\n\n#meter-limit-met-popup .bg-modal-meter__text--cta-label {\n  margin-top: 10px;\n  margin-left: 4px;\n  display: inline-block;\n  clear: none;\n  float: left;\n  font-size: 18px;\n  font-weight: bold;\n  color: #008131;\n}\n\n.bg-modal-meter--paywall__text--heading {\n  color: black;\n  font-size: 30px;\n}\n\n@media (max-width: 720px) {\n  .bg-modal-meter__trending {\n    display: none;\n  }\n  .bg-modal-meter--trending-on-mobile .bg-modal-meter__trending {\n     display: block;\n  }\n.bg-modal-meter--trending-on-mobile .bg-modal-meter__trending ul.aside li {\n   width: 100%;\n   border-left: none;\n\n\n}\n\n}\n\n\n  .bg-modal-meter--paywall__text--heading {\n    font-size: 24px;\n  }\n}","name":"Meter Modal Radical Redesign (v2)","variation_ids":["1706930551","1763000177","1768600433"],"site_catalyst_evar":3,"urls":[{"match":"substring","value":"http://www.bostonglobe.com"},{"negate":true,"match":"substring","value":"http://qaweb.bostonglobe.com"}],"enabled_variation_ids":["1763000177","1768600433"],"site_catalyst_prop":18},"1038386392":{"name":"Smart Bar messaging","conditions":[{"type":"url","values":[{"value":"http://www.bostonglobe.com","match":"simple"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"enabled_variation_ids":["1039548723","1034024560"],"variation_ids":["1039548723","1034024560"]},"1335851389":{"name":"AAM TEST","conditions":[{"type":"segment","values":["1255095231"]},{"type":"url","values":[{"value":"qaweb.bostonglobe.com","match":"substring"},{"value":"qaedit.bostonglobe.com","match":"substring"},{"value":"devedit.bostonglobe.com","match":"substring"},{"value":"devweb.bostonglobe.com","match":"substring"}]},{"only_first_time":true,"type":"visitor","value":"all"}],"enabled_variation_ids":["1262473453","1262651075"],"variation_ids":["1262473453","1262651075"]}},"audiences":{"1741240624":{"conditions":["and",["or",["or",{"dimension_id":1142152812,"value":"methode.showPaywall==true"}]]],"name":"Paywall Viewers"},"1140393114":{"conditions":["and",{"dimension_id":1142152812,"value":"s.eVar42===\"Metered\""}],"name":"Metered Users","segment_id":1137622987},"1814840395":{"conditions":["and",["or",["not",["or",{"dimension_id":1819400566,"value":"mobile"},{"dimension_id":1819400566,"value":"android"},{"dimension_id":1819400566,"value":"blackberry"},{"dimension_id":1819400566,"value":"ipad"},{"dimension_id":1819400566,"value":"iphone"},{"dimension_id":1819400566,"value":"windows phone"}]]],["or",["or",{"dimension_id":1142152812,"value":"methode.subscribed = false;"}]]],"name":"Non-mobile, logged out users"},"1599453078":{"conditions":["and",["or",["or",{"dimension_id":1142152812,"value":"methode.subscribed==false"}]]],"name":"Logged Out User","segment_id":1621949532}},"www_host":"www.optimizely.com","token_hash":"a31f6138b22a51525fa4449f6d9805dba7dab4da632f52de646620c60b1e02c1","dimensions":{"1338070528":{"api_name":"883646","condition_type":"custom_dimension","name":"TEST AAM SEGMENT 2","segment_id":1340447695},"1257811882":{"api_name":"973314","condition_type":"custom_dimension","name":"AAM: Sports Section - Logged Out","segment_id":1260482495},"1142152812":{"condition_type":"code"},"1339790413":{"api_name":"806611","condition_type":"custom_dimension","name":"TEST AAM SEGMENT 1","segment_id":1339790412},"1262174900":{"api_name":"973325","condition_type":"custom_dimension","name":"AAM: Ideas Section - Logged Out","segment_id":1255095231},"1819400566":{"condition_type":"browser"}},"summary_revenue_goal_id":124528519,"public_suffixes":{"html)":[".*qaedit\\.bostonglobe\\.com.*(story\\.html|picture\\.html)"],"html":["www\\.bostonglobe\\.com.*\\.html"],"bostonglobe.com":["www.bostonglobe.com","qaedit.bostonglobe.com","devweb.bostonglobe.com","devedit.bostonglobe.com","qaweb.bostonglobe.com","bostonglobe.com"],"*":[".*qaedit\\.bostonglobe\\.com.*(comments\\.html|story\\.html|picture\\.html).*"]},"force_variation":true,"api_host":"api.optimizely.com","variations":{"1585251075":{"name":"Variation #1"},"1766140421":{"name":"Original"},"1581541127":{"name":"Original"},"771291665":{"code":"$(\".article > nav:eq(0) > ul > li:last\").after(\"<li><a href=\\\"http://digitalaccess.bostonglobe.com/REALOFFERURLTK-top\\\" class=\\\"icon ico-buy\\\">Subscribe</a></li>\");\n$(\".article > nav:eq(1) > ul > li:last\").after(\"<li><a href=\\\"http://digitalaccess.bostonglobe.com/REALOFFERURLTK-bottom\\\" class=\\\"icon ico-buy\\\">Subscribe</a></li>\");\n$(\".article > nav > ul > li:last > a\").css({\"background-position\":\"10px -6046px\"});\n$(\".article > nav:eq(0) > ul:eq(0) > li:last > a:eq(0)\").css({\"background-position\":\"10px -6046px\"});\n$(\".article > nav:eq(0) > ul:eq(0) > li:eq(4) > a:eq(0)\").css({\"color\":\"#9b1418\",\"font-weight\":\"bold\"});\n$(\".article > nav:eq(1) > ul:eq(0) > li:eq(4) > a:eq(0)\").css({\"color\":\"#9b1418\",\"font-weight\":\"bold\"});","name":"Red subscribe"},"1478782365":{"code":"window.optimizely = window.optimizely || [];\n\nwindow.console.log(\" bootstrapping experiment running -- Hello1\");\n\n // window.$(document).ajaxComplete(function() { \n    window.optimizely.push([\"activate\", 1468043952]); \n    window.console.log(\"ajaxComplete call bootstrapping experiment -- Hello1\");\n // });\n\n window.jQuery(document).ajaxComplete(function() { \n    window.optimizely.push([\"activate\", 1468043952]); \n    window.console.log(\"ajaxComplete call bootstrapping experiment -- jQuery\");\n });\n  \n\tjQuery(document).ajaxComplete(function() { \n    window.optimizely.push([\"activate\", 1468043952]); \n    window.console.log(\"ajaxComplete call bootstrapping experiment -- jquery\");\n });","name":"Variation #1"},"1485212194":{"name":"Original"},"1469022887":{"name":"Variation #1"},"1813330476":{"code":"$(\".utils > ul\").replaceWith(\"<ul>\\n\\t\\t\\t\\t<li class=\\\"headerSubscribe no-border\\\"><a href=\\\"http://staging-bostonda.meclabs.com/da/68/?eglobe_rc=WW114068&rc=WW114069&amp;p1=BGHeader_IntegratedSubscription\\\" onclick=\\\"var s=s_gi('nytbostonglobecom');s.linkTrackVars='eVar25,events';s.linkTrackEvents='event13';s.eVar25='BG Header';s.events='event13';s.tl(this,'o','BG Header - Subscribe');\\\">Subscribe Now</a>\\n\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t<li class=\\\"my-account logged-out\\\"><a class=\\\"top\\\" href=\\\"https://www.bostonglobe.com/eom/SysConfig/WebPortal/BostonGlobe/Framework/regi/final-login.jsp?p1=BGHeader_LogIn\\\" onclick=\\\"var s=s_gi('nytbostonglobecom');s.linkTrackVars='eVar27,events';s.linkTrackEvents='event15';s.eVar27='BG Header';s.events='event15';s.tl(this,'o','BG Header - Log In');\\\">Log In</a></li>\\n\\t\\t\\t</ul>\");","name":"Variation #1"},"1811130413":{"name":"Original"},"1336195504":{"name":"Variation #1"},"1883100722":{"name":"Variation #1"},"1039548723":{"name":"Original"},"1891681077":{"name":"Original"},"1482402359":{"name":"Original"},"1276541759":{"name":"Original"},"1262651075":{"code":"$(\"body > .meter-modal-block > div:eq(2) > h2:eq(0)\").html(\"Read for FREE now!\");","name":"Variation #1"},"1758663108":{"code":"$(\".weather-info-link > img\").removeAttr(\"src\").removeAttr(\"srcdoc\");\n$(\".weather-info-link > img\").css({\"display\":\"none\", \"visibility\":\"\"});","name":"Variation #1"},"1482274471":{"code":"console.log('this is in this section test'+ $(document));\n$(document).ajaxComplete(function() {\n  console.log('this is after AJAX '+ $(document));\n\t$(\"h1.hed-section\").html(function() {\n  var optimizely_section = $( \"h1.section a.collapsible-heading\" ).text();\n  return \"<a href='/\"+ optimizely_section + \"'> More in \" + optimizely_section + \":</a>\";\n    });\n});\n\n//$( document ).ajaxComplete(function( event, xhr, settings ) {\n // console.log('event: ' + event + ' xhr: ' + xhr + ' settings: ' + settings );\n  //if ( settings.url === \"ajax/test.html\" ) {\n  //  $( \".log\" ).text( \"Triggered ajaxComplete handler. The result is \" +\n  //    xhr.responseText );\n  //}\n//});","name":"Variation #1"},"1472663889":{"name":"Original"},"1768600433":{"code":"$(\"#meter-limit-met-popup\").addClass('bg-modal-meter--paywall');\n$(\"#meter-limit-met-popup\").html(\"<a href='https://www.bostonglobe.com/eom/SysConfig/WebPortal/BostonGlobe/Framework/regi/final-login.jsp'><button class='bg-modal-meter__button--black--right'>Subscriber Login</button></a><div class='clearfix'></div><div class='bg-modal-meter__text'><div class='bg-modal-meter__spacer'></div><h1 class='bg-modal-meter--paywall__text--heading'>You have reached 10 articles, but there's so much more to experience.</h1></div><div class='bg-modal-meter__trending'><h3 class='bg-modal-meter__text--trending-label'>Trending Articles</h3></div><a href='http://digitalaccess.bostonglobe.com/da/33/?eglobe_rc=WW312364' alt='desktop'><button class='bg-modal-meter__button'>Sign up</button></a><img class='bg-modal-meter__image--B-logo' src='http://www.bostonglobe.com/img/B_logo_black.png'/>\");\nsetTimeout(function(){\n$(\"#meter-limit-met-popup\").show();\n}, 1000);\n\n$.when(\n  $.get(\"/Fragment/SysConfig/WebPortal/BostonGlobe/Framework/skins/leaf/story/trending_left.jpt\")\n\n).done(function (mostViewed) {\n  var $sectionNav_meter = $(\"#meter-limit-met-popup\"),\n      $navElement_meter = $sectionNav_meter.find('.bg-modal-meter__trending'),\n      $ulMostViewed = $('.bg-modal-meter__trending ul.aside'),\n      $anchorTags = $ulMostViewed.find('a');\n  $navElement_meter.append(mostViewed);\n  // Each argument is an array with the following structure: [ data, statusText, jqXHR ]\n  //removes the last x amount of articles\n  $('.bg-modal-meter__trending ul.aside').find('li').slice(3,10).remove();\n  $('.bg-modal-meter__trending ul.aside').css( \"display\", \"block\");\n});\n\n$(\".bg-modal-meter__button\").attr(\"onclick\",\"var s=s_gi('nytbostonglobecom');s.tl(this,'o','BG Modal Paywall Get Access');\");\n$(\".bg-modal-meter__button--black--right\").attr(\"onclick\",\"var s=s_gi('nytbostonglobecom');s.tl(this,'o','BG Modal Paywall Login');\");","name":"Treatment 1 - Market Basket"},"1245770088":{"name":"Original"},"751441003":{"code":"$(\".article > nav:eq(0) > ul > li:last\").after(\"<li><a href=\\\"http://digitalaccess.bostonglobe.com/REALOFFERURLTK-top\\\" class=\\\"icon ico-buy\\\">Subscribe</a></li>\");\n$(\".article > nav:eq(1) > ul > li:last\").after(\"<li><a href=\\\"http://digitalaccess.bostonglobe.com/REALOFFERURLTK-bottom\\\" class=\\\"icon ico-buy\\\">Subscribe</a></li>\");\n$(\".article > nav > ul > li:last > a\").css({\"background-position\":\"10px -6046px\", \"font-weight\":\"bold\"});\n$(\".article > nav:eq(0) > ul:eq(0) > li:last > a:eq(0)\").css({\"background-position\":\"10px -6046px\", \"font-weight\":\"bold\"});","name":"Plain subscribe"},"1262473453":{"name":"Original"},"1034024560":{"code":"$(\".global-bar\").html(\" \\t\\n\\t\\t\\tStay with the story. Get unlimited access to BostonGlobe.com - 99\u00a2 for 4 full weeks.\");","name":"Variation #1"},"1763000177":{"code":"$(\"#meter-limit-met-popup\").html(\" <div class='paywall-section-1'><h1>You have reached the limit of 10 free articles in a month</h1><p class='paywall-mobile-link'>Continue reading by subscribing to BostonGlobe.com for <a href='http://digitalaccess.bostonglobe.com/da/33/?eglobe_rc=WW113971' alt='mobile'>just 99\u00a2</a>.</p><p class='paywall-desktop-link'>Continue reading by subscribing to BostonGlobe.com for <a href='http://digitalaccess.bostonglobe.com/da/33/?eglobe_rc=WW113971' alt='desktop'>just 99\u00a2</a>.</p></div><div class='paywall-section-2'><div class='list-section'><h2>Stay informed with unlimited access to Boston\u2019s trusted news source.</h2><ul><li>High-quality journalism from the region\u2019s largest newsroom</li><li>Convenient access across all of your devices</li><li>Today\u2019s Headlines daily newsletter</li><li>Subscriber-only access to exclusive offers, events, contests, eBooks, and more</li><li class='bold'>Less than 25\u00a2 a week</li></ul></div><div class='image-section'><div class='paywall-main-device-img'><img src='/rw/SysConfig/WebPortal/BostonGlobe/Framework/images/Device-LockUp-non-transparent.jpg'></div></div></div><div class='paywall-clearfix'></div><div class='paywall-section-3'><div class='button-section'><a class='paywall-desktop-link' href='http://digitalaccess.bostonglobe.com/da/33/?eglobe_rc=WW113972' alt='desktop' ><button class='paywall-full-access-button'>GET FULL ACCESS NOW</button></a><a class='paywall-mobile-link' href='http://digitalaccess.bostonglobe.com/da/33/?eglobe_rc=WW113972' alt='mobile'><button class='paywall-full-access-button'>GET FULL ACCESS NOW</button></a></div><div class='logo-section'><div class='paywall-logo-img'><img src='/rw/SysConfig/WebPortal/BostonGlobe/Framework/images/Globe-Logo-non-transparent.jpg'></div><p class='paywall-desktop-link'>Subscriber <a href='https://www.bostonglobe.com/eom/SysConfig/WebPortal/BostonGlobe/Framework/regi/final-login.jsp' alt='desktop'>Log In</a></p><p class='paywall-mobile-link'>Subscriber <a href='https://www.bostonglobe.com/eom/SysConfig/WebPortal/BostonGlobe/Framework/regi/final-login.jsp' alt='mobile'>Log In</a></p></div></div><div class='paywall-clearfix'></div><div class='paywall-section-4'><div class='paywall-main-device-img-bottom'><img src='/rw/SysConfig/WebPortal/BostonGlobe/Framework/images/Device-LockUp-Mobile-non-transparent.jpg'></div></div>\").show();\n\n\n$(\".paywall-mobile-link > a:eq(0)\").attr(\"onclick\",\"var s=s_gi('nytbostonglobecom');s.tl(this,'o','BG Fullpage Paywall Offer');\");\n$(\".paywall-desktop-link > a:eq(0)\").attr(\"onclick\",\"var s=s_gi('nytbostonglobecom');s.tl(this,'o','BG Modal Paywall Offer');\");\n$(\".paywall-mobile-link button\").attr(\"onclick\",\"var s=s_gi('nytbostonglobecom');s.tl(this,'o','BG Fullpage Paywall Get Access');\");\n$(\".paywall-desktop-link button\").attr(\"onclick\",\"var s=s_gi('nytbostonglobecom');s.tl(this,'o','BG Modal Paywall Get Access');\");\n$(\".paywall-mobile-link > a:eq(1)\").attr(\"onclick\",\"var s=s_gi('nytbostonglobecom');s.tl(this,'o','BG Fullpage Paywall Login');\");\n$(\".paywall-desktop-link > a:eq(1)\").attr(\"onclick\",\"var s=s_gi('nytbostonglobecom');s.tl(this,'o','BG Modal Paywall Login');\");\n\nsetTimeout(function(){\n  $(\"#meter-limit-met-popup\").show();\n}, 500);","name":"Control"},"1207260150":{"code":"$(\".author\").html(\"<!---->\\nBY&nbsp;<a href=\\\"/staff/cafardo\\\"><cite>Nick Cafardo</cite></a>\");\n$(\"em\").html(\"Frank Phillips can be reached at <a class=\\\"a\\\" href=\\\"mailto:phillips@globe.com\\\">phillips@globe.com</a>\");","name":"Variation #1"},"1706930551":{"name":"Original"},"758940792":{"name":"Original"}},"version":"master-1600.378594643990134089","admin_account_id":124489811,"blacklisted_experiments":[1576412928,1782661382,1589410057,137503626,790442893,125040270,1481334665,1659942190,1476468526,1758120342,702790935,1578510320,1491862562,1513152902,1493870246,1741670440,735150250,298013484,1517791406,1509447349,709272119,1561344697,1508877629,1498606655,1503156551,1520200136,1169061197,324735569,1478314083,704451028,212137689,1373817308,1759101021,238589153,1361510011,1550788068,211600741,125058022,1497631841,814830057,670582378,1484840940,1777031918,288056688,1633314216,1472310611,1664010488,168354426,181162107,1626002057,997761662,1504830463],"project_id":124489811,"segments":{"1340447695":{"api_name":"883646","is_api_only":true,"dimension_id":1338070528,"id":1340447695,"name":"TEST AAM SEGMENT 2"},"180420520":{"segment_value_type":"mobile","api_name":"optimizely_mobile","id":180420520,"name":"Mobile Visitors"},"1137622987":{"audience_id":1140393114,"api_name":"mobile_users","id":1137622987,"name":"Metered Users"},"1339790412":{"api_name":"806611","is_api_only":true,"dimension_id":1339790413,"id":1339790412,"name":"TEST AAM SEGMENT 1"},"180828493":{"segment_value_type":"browser","api_name":"optimizely_browser","id":180828493,"name":"Browser"},"181124879":{"segment_value_type":"source_type","api_name":"optimizely_source_type","id":181124879,"name":"Source Type"},"917594233":{"segment_value_type":"campaign","api_name":"optimizely_campaign","id":917594233,"name":"Campaign"},"1260482495":{"api_name":"973314","is_api_only":true,"dimension_id":1257811882,"id":1260482495,"name":"AAM: Sports Section - Logged Out"},"1621949532":{"audience_id":1599453078,"id":1621949532,"name":"Logged Out User"},"1255095231":{"api_name":"973325","is_api_only":true,"dimension_id":1262174900,"id":1255095231,"name":"AAM: Ideas Section - Logged Out"}},"click_goals":[{"event_name":"get_started_today","experiments":{"137503626":true},"selector":".stub-promo a"},{"event_name":"login_button","experiments":{"137503626":true},"selector":".submit-group input.submit"},{"event_name":"link_my_home_delivery_account","experiments":{"137503626":true},"selector":".promo-sub .link-button a"},{"event_name":"subscribe_link","experiments":{"137503626":true},"selector":"nav.cats-first li.last a"},{"event_name":"subscribe_tab","experiments":{"212137689":true,"181162107":true},"selector":".article-cats li.last a"},{"event_name":"login_button_2831","experiments":{"212137689":true,"181162107":true},"selector":".login-form .submit"},{"event_name":"link_my_account","experiments":{"212137689":true,"181162107":true},"selector":".link-button > .bg-button"},{"event_name":"get_access_button","experiments":{"212137689":true,"181162107":true},"selector":".stub-promo .bg-button"},{"event_name":"3054-link-sub-v1","experiments":{"238589153":true,"324735569":true},"selector":".already-a-subscriber .link-sub"},{"event_name":"3054-get-started-today","experiments":{"238589153":true,"324735569":true},"selector":".stub-promo .bg-button"},{"event_name":"3054-link-button","experiments":{"238589153":true,"324735569":true},"selector":".link-button > .bg-button"},{"event_name":"3054-tools-subscribe","experiments":{"238589153":true,"324735569":true},"selector":".article-cats .last a"},{"event_name":"3054-login-button","experiments":{"238589153":true,"324735569":true},"selector":".login-form .bg-button"},{"event_name":"3054-log-in-v1","experiments":{"238589153":true,"324735569":true},"selector":".already-a-subscriber .log-in"},{"event_name":"subscribe_link_clicks","experiments":{"753650859":true},"selector":".article > nav:eq(1) > ul:eq(0) > li:last > a,.article > nav:eq(1) > ul:eq(0) > li:last > a"},{"event_name":"smart_bar_clicks","experiments":{"1038386392":true},"selector":".global-bar"},{"event_name":"Sign up clicks","experiments":{"1589410057":true,"1361510011":true},"selector":"body > .meter-modal-block > div:eq(2) > h1:eq(0) > a:eq(0), .meter-button"},{"event_name":"Sign up Link Clicks","experiments":{"1589410057":true,"1361510011":true},"selector":"body > .meter-modal-block > div:eq(2) > h1:eq(0) > a:eq(0)"},{"event_name":"Meter Message - Get Access button/link","experiments":{"1589410057":true,"1361510011":true},"selector":"body > .meter-modal-block > div:eq(2) > h1:eq(0) > a:eq(0), .meter-button"},{"event_name":"Paywall Login Button","experiments":{"1777031918":true,"1712880278":true},"selector":".bg-modal-meter__button--black--right,  body > div:eq(1) > div:eq(0) > div:eq(0) > div:eq(0) > div:eq(3) > div:eq(1) > p:eq(0) > a:eq(0), body > div:eq(1) > div:eq(0) > div:eq(0) > div:eq(0) > div:eq(3) > div:eq(1) > p:eq(1) > a:eq(0)"},{"event_name":"Get Access button","experiments":{"1777031918":true,"1712880278":true},"selector":".bg-modal-meter__button, .paywall-full-access-button, body > div:eq(1) > div:eq(0) > div:eq(0) > div:eq(0) > div:eq(0) > p:eq(0) > a:eq(0), body > div:eq(1) > div:eq(0) > div:eq(0) > div:eq(0) > div:eq(0) > p:eq(1) > a:eq(0), body > div:eq(1) > div:eq(0) > div:eq(0) > div:eq(0) > div:eq(3) > div:eq(0) > a:eq(0), body > div:eq(1) > div:eq(0) > div:eq(0) > div:eq(0) > div:eq(3) > div:eq(0) > a:eq(1)"}],"revision":731};

var optly={nativity:{}};optly.nativity.getNativeGetElementsByClassName=function(){var a=document.getElementsByClassName;if(!optly.nativity.isNativeFunction(a))var a=(window.optimizely||{}).getElementsByClassName,b=(window.optly||{}).getElementsByClassName,a=optly.nativity.isNativeFunction(a)?a:optly.nativity.isNativeFunction(b)?b:null;return a};optly.nativity.isNativeFunction=function(a){return a&&-1!==String(a).indexOf("[native code]")};optly.Cleanse={};optly.Cleanse.each=function(a,b,d){var h=!!Object.prototype.__lookupGetter__,e=!!Object.prototype.__lookupSetter__,c;for(c in a)if(a.hasOwnProperty(c)){var f=h?a.__lookupGetter__(c):null,g=e?a.__lookupSetter__(c):null;try{b.call(d,c,!f?a[c]:null,f,g)}catch(i){}}};
optly.Cleanse.finish=function(){if(optly.Cleanse.running){optly.Cleanse.running=!1;optly.Cleanse.each(optly.Cleanse.types,function(a,d){Object.prototype.__defineGetter__&&optly.Cleanse.each(optly.Cleanse.getters[a],function(c,b){d.prototype.__defineGetter__(c,b);optly.Cleanse.log("restored getter",a,c)});Object.prototype.__defineSetter__&&optly.Cleanse.each(optly.Cleanse.setters[a],function(c,b){d.prototype.__defineSetter__(c,b);optly.Cleanse.log("restored setter",a,c)});optly.Cleanse.each(optly.Cleanse.properties[a],
function(b,f){d.prototype[b]=f;optly.Cleanse.log("restored property",a,b)})});optly.Cleanse.unfixGetElementsByClassName();optly.Cleanse.log("finish");var a=window.console;if((-1!==window.location.hash.indexOf("optimizely_log=true")||-1!==window.location.search.indexOf("optimizely_log=true"))&&a&&a.log)for(var b=optly.Cleanse.logs,d=0;d<b.length;d++)a.log(b[d])}};
optly.Cleanse.log=function(a,b,d){b?(b=b.replace(/_/g,""),optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a+": "+b+"."+d)):optly.Cleanse.logs.push("Optimizely / Info / Cleanse / "+a)};
optly.Cleanse.start=function(){var a=window.location.hostname;if(!(-1!==a.indexOf("optimizely")&&-1===a.indexOf("edit")&&-1===a.indexOf("preview")&&-1===a.indexOf("test")))if(optly.Cleanse.running)optly.Cleanse.log("already running so didn't start");else{optly.Cleanse.log("start");optly.Cleanse.running=!0;for(var b in optly.Cleanse.types)optly.Cleanse.types[b]||delete optly.Cleanse.types[b];optly.Cleanse.each(optly.Cleanse.types,function(a,b){optly.Cleanse.getters[a]={};optly.Cleanse.properties[a]=
{};optly.Cleanse.setters[a]={};optly.Cleanse.each(b.prototype,function(e,c,f,g){optly.nativity.isNativeFunction(c)||optly.nativity.isNativeFunction(f)||optly.nativity.isNativeFunction(g)?optly.Cleanse.log("ignore native code",a,e):(f?(optly.Cleanse.getters[a][e]=f,optly.Cleanse.log("cleansed getter",a,e)):(optly.Cleanse.properties[a][e]=c,optly.Cleanse.log("cleansed property",a,e)),g&&(optly.Cleanse.setters[a][e]=g,optly.Cleanse.log("cleansed setter",a,e)),delete b.prototype[e])})});optly.Cleanse.fixGetElementsByClassName();
optly.Cleanse.hasRunStart=!0}};optly.Cleanse.fixGetElementsByClassName=function(){if(!optly.nativity.isNativeFunction(document.getElementsByClassName)){var a=optly.nativity.getNativeGetElementsByClassName();a?(optly.Cleanse.getElementsByClassName=document.getElementsByClassName,document.getElementsByClassName=a):optly.Cleanse.log("Error: native HTMLElement.prototype.getElementsByClassName missing")}};
optly.Cleanse.unfixGetElementsByClassName=function(){optly.Cleanse.getElementsByClassName&&(document.getElementsByClassName=optly.Cleanse.getElementsByClassName,optly.Cleanse.getElementsByClassName=null)};optly.Cleanse.getElementsByClassName=null;optly.Cleanse.getters={};optly.Cleanse.logs=[];optly.Cleanse.properties={};optly.Cleanse.setters={};optly.Cleanse.types={HTMLElement_:window.HTMLElement,Object_:Object};window.optly=window.optly||{};
window.optly.Cleanse={finish:optly.Cleanse.finish,logs:optly.Cleanse.logs,start:optly.Cleanse.start};
optly.Cleanse.start();
var $=jQuery;
function h(a){throw a;}var i=void 0,k=!0,l=null,n=!1;function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){a||h(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba;return p.apply(l,arguments)}function ca(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}};function da(a,b){var c={},c=i,d=q("custom_revenue_goals");d&&(a in d&&ea(d[a]))&&(c=d[a]);var c=b&&ea(b)?{a:Number(b)}:b&&b.revenue?{a:b.revenue}:c?{a:c}:b,d=ha(),e={};r(d,function(a){e[a]=k});$.extend(c,{h:e});ia(a,"custom",c)}function ia(a,b,c){c=c||{};t&&(ja.push({name:a,type:b,options:c}),ka?(la(),u("Tracker","Tracking event '"+a+"'")):u("Tracker","Queued tracking event '"+a+"'"))}function ma(){na();$("html").bind("mousedown",oa);$("html").bind("touchstart",pa)}
function na(){$("html").unbind("touchstart",pa);$("html").unbind("mousedown touchend",oa);$("html").unbind("touchmove",ma)}function pa(){$("html").bind("touchend",oa);$("html").bind("touchmove",ma)}function qa(){var a=document.location.href,b=q("pageview_revenue_goals");b&&0<v(b)?r(v(b),function(c){ia(a,"pageview",{a:c,h:b[c]})}):ia(a,"pageview")}
function ra(a){var b=q("goal_expressions"),c=[],d;for(d in b)b.hasOwnProperty(d)&&$.each(b[d],function(b,f){try{if(a.match(RegExp(f,"i")))return c.push(d),n}catch(g){}return k});return c}function sa(){var a=y("optimizelyPendingLogEvents")||"[]",b=[];try{b=z(a)}catch(c){}if(A(b))for(var a=0,d=b.length;a<d;a++){var e=b[a];if("string"!==typeof e){b=[];break}else try{z(e);b=[];break}catch(f){}}else b=[];return b}
function ta(a,b){if(ua&&-1!==a.indexOf(wa))try{var c=new XMLHttpRequest;if("withCredentials"in c){c.onload=b;c.open("GET",a,k);c.withCredentials=k;c.send();return}ua=n;u("Tracker","Found that XHR with credentials is not supported in this browser.")}catch(d){u("Tracker","XHR not supported"),ua=n}var c=a,e=new Image;e.onload=b;c=c.replace("&"+wa,"");e.src=c;xa.push(e)}
function ya(a){var b=(a=a===k||"true"===a)?"true":"false";a?(B("optimizelyOptOut",b,za),B("optimizelyBuckets",b,za),alert("You have successfully opted out of Optimizely for this domain.")):(B("optimizelyOptOut",b,za),alert("You are NOT opted out of Optimizely for this domain."))}function oa(){na();ia("engagement")}var ja=[],ka=n;
function la(){var a=["a="+Aa(),"d="+Ba(),"y="+!!q("ip_anonymization")];Da&&a.push("override=true");r(Ea(),function(b){var c=C(b);a.push("x"+c+"="+b)});r(Fa(),function(b,c){a.push("s"+b+"="+c)});var b=[];r(ja,function(a){var c=[],d=[];a.name&&(c.push("n="+encodeURIComponent(a.name)),d=d.concat(ra(a.name)));if(a.type&&"pageview"===a.type){var d=d.concat(D.concat(G)),e=Ga;e&&(e=C(e),d.push(e))}a.options.anonymous!==k&&c.push("u="+Ha());ua&&c.push(wa);c.push("t="+ +new Date);Ia&&c.push("dtpc="+Ia);var f=
!!a.options&&!!a.options.a&&a.options.h||{},e=v(f),g=Ja(ha(),function(a){return!f[a]}),d=[{v:e,Q:d.concat([q("summary_revenue_goal_id")||l]),G:["v="+encodeURIComponent(a.options.a)]},{v:g,Q:d,G:[]}];r(d,function(a){a.v.length&&b.push(c.concat(a.G).concat(["f="+a.v.join(","),"g="+a.Q.join(",")]).join("&"))});if("custom"===a.type)try{var j=a.name,m=Ha(),o=y("optimizelyCustomEvents")||"{}";try{o=z(o)}catch(ef){o={}}var I=o[m]||(o[m]=[]),I=A(I)?I:[];-1!==$.inArray(j,I)&&I.splice($.inArray(j,I),1);I.push(j);
10<I.length&&I.shift();o[m]=I;var a=0,j=l,I=0,va;for(va in o)o.hasOwnProperty(va)&&(a++,o[va].length>I&&va!==m&&(j=va,I=o[va].length));10<a&&j!==l&&delete o[j];B("optimizelyCustomEvents",Ka(o),za)}catch(Ic){}});var c=b.concat(sa());La(c);var d=a.join("&"),c=Ma?b:c;Ma=k;for(var e=0,f=c.length;e<f;e++){var g=c[e],j=d+"&"+g;u("Tracker","Making a log request.");var m=Aa(),o=q("log_host");m&&(o=m.toString()+"."+o);m=document.location.protocol;"chrome-extension:"===m&&(m="http:");ta(m+"//"+o+"/event?"+
j,function(){for(var a=g,b=sa(),c=0,d=b.length;c<d;c++)if(b[c]===a){b.splice(c,1);break}La(b);u("Tracker","Removed a pending log event from the pending events cookie.")})}ja=[];ka=k}function La(a){for(var b=Ka(a);1536<b.length;)a=a.slice(0,-1),b=Ka(a);B("optimizelyPendingLogEvents",b,15)}var xa=[],Ma=n,wa="wxhr=true",ua=k;function Na(){var a=window.navigator,b=a.userAgent,c=Oa([{id:"gc",substring:"Chrome",g:"Chrome"},{id:"safari",sa:a.vendor,substring:"Apple",g:"Version"},{id:"ff",substring:"Firefox",g:"Firefox"},{id:"opera",prop:window.opera,g:"Opera"},{id:"ie",substring:"MSIE",g:"MSIE"},{id:"ie",substring:"Trident",g:"rv"}],b),d=Oa([{id:"android",substring:"Android"},{id:"blackberry",substring:"BlackBerry"},{id:"ipad",substring:"iPad"},{id:"iphone",substring:"iPhone"},{id:"ipod",substring:"iPod"},{id:"windows phone",
substring:"Windows Phone"}],b),e=l,f=c.g;f&&(e=Pa(b,f)||Pa(a.appVersion,f));return{V:c.id||"unknown",W:e||"unknown",qa:d.id||"unknown"}}function Pa(a,b){var c=a.indexOf(b),d=l;-1!==c&&(c+=b.length+1,d=parseFloat(a.substring(c)));return d}function Oa(a,b){return r(a,function(a){var d=a.sa||b;if(d&&-1!==d.indexOf(a.substring)||a.prop)return a})||{}};function Ba(){return q("admin_account_id")}function Qa(a){return q("audiences",a)}function Ra(a){a=q("audiences",a,"segment_id");return!a?l:a}
function Sa(){if(!Ta){var a=q("click_goals")||[];Ta=[];for(var b=0,c=a.length;b<c;b++)for(var d=a[b],e=d.selector.split(","),f=0,g=e.length;f<g;f++){var j=e[f];j&&(j={event_name:d.event_name,selector:j},"experiments"in d?j.experiments=d.experiments:"url_conditions"in d&&(j.url_conditions=d.url_conditions),"revenue"in d&&(j.revenue=d.revenue),Ta.push(j))}}return Ta}function Ua(a,b){return q("dimensions",a.toString(),b)}function Va(a){a=Ua(a,"condition_type");return!a?l:a}
function Wa(a){a=Ua(a,"name");return!a?l:a}function ha(){var a=Ja(Xa(),Ya);ha=function(){return a};return a}function Za(a){var b=H(),c;for(c in b)if(Object.prototype.hasOwnProperty.call(b,c)){var d=b[c];if(d&&d.api_name===a)return String(c)}return l}function $a(){return q("experiments")||{}}function Xa(){return v(q("experiments")||{})}function ab(a){return J(a,"manual")||n}function bb(a){return J(a,"name")||"Exp "+a}function K(a){return'experiment "'+bb(a)+'" ('+a+")"}
function cb(a){return J(a,"section_ids")||[]}function db(a){return J(a,"variation_ids")||[]}function Aa(){return q("project_id")}function H(){return q("segments")||{}}function eb(a,b){for(var c=cb(a),d=0;d<c.length;d++){var e=fb(c[d]);if(gb(e,b))return c[d]}return""}function hb(a){var b={},c=q("public_suffixes")||{};r(c,function(a,c){r(c,function(c){b[c]=a})});hb=function(a){return b[a]||""};return hb.call(l,a)}function fb(a){return q("sections",a,"variation_ids")||[]}
function ib(a){var b=[];r(a.split("_"),function(a){(a=q("variations",a,"code"))&&b.push(a)});return b.join("\n")}function C(a){var b={};r(Xa(),function(a){r(cb(a),function(d){r(fb(d),function(d){b[d]=a})});r(db(a),function(d){b[d]=a})});C=function(a){return b[a.split("_")[0]]||""};return C.call(l,a)}
function jb(a){var b=C(a),c=cb(b);if(0===c.length){c=db(b);for(b=0;b<c.length;b++)if(c[b]===a)return b}else{for(var a=a.split("_"),b=[],d=0;d<c.length;d++)for(var e=fb(c[d]),f=0;f<e.length;f++)e[f]===a[d]&&b.push(f);if(b!==[])return b}return-1}function kb(a){var b;return lb(a).join(b||", ")}function lb(a){var b=[];r(a.split("_"),function(a){b.push(q("variations",a,"name")||"Var "+a)});return b}function Ya(a){return!!J(a,"enabled")}function J(a,b){return q("experiments",a,b)}
function mb(a){return J(a,"google_analytics")}function nb(a,b){var c=J(a,"universal_analytics");return L(c)?c[b]:l}function ob(a,b){var c=J(a,"at_internet");return L(c)?c[b]:l}function q(a){var b=DATA;if(r(arguments,function(a){a=b[a];if(L(a))b=a;else return l})!==l)return b}function M(a,b){return q("segments",a,b)}function pb(){var a=q("rum_sampling_rate");return L(a)?a:0.001}var Ta=l;function qb(a){this.F=a}qb.prototype.get=function(a){try{return z(this.F.getItem(rb))[a]}catch(b){}};qb.prototype.set=function(a,b){try{var c=z(this.F.getItem(rb))||{};c[a]=b;this.F.setItem(rb,Ka(c))}catch(d){}};var rb="optimizely_data",sb=new qb(window.localStorage),tb=new qb(window.sessionStorage);var N;function ub(){function a(){return N.V}N=N||Na();ub=a;return a()}function vb(){function a(){return N.W}N=N||Na();vb=a;return a()}function wb(a){if(!a)return"";try{return a.match(/:\/\/(?:www[0-9]?\.)?(.[^/:]+)/)[1]}catch(b){return""}}function Ha(){var a=y("optimizelyEndUserId");a||(a="oeu"+ +new Date+"r"+Math.random(),B("optimizelyEndUserId",a,za));return a}function xb(){var a="";try{a=(yb||l).ip}catch(b){}return O(a)}
function zb(){var a=yb||l,a=a&&a.location||{};return{city:O(a.city),continent:O(a.continent),country:O(a.country),region:O(a.region)}}function O(a){if(!a)return"";a=a.toUpperCase();return"N/A"==a?"":a}function Ab(){function a(){return N.qa}N=N||Na();Ab=a;return a()}function Bb(){return Cb?"returning":"new"}function Db(){var a=navigator.appVersion||"",b="";-1!==a.indexOf("Win")&&(b="Windows");-1!==a.indexOf("Mac")&&(b="Mac");-1!==a.indexOf("Linux")&&(b="Linux");return b}
function Eb(a){P("User","Setting current URL to %s",a);Fb=a}var Fb=i,Cb=i;function Gb(){try{return window.performance.now()-(Hb||0)}catch(a){return(new Date).getTime()-(Hb||0)}}var Hb=Gb();function Ib(a){var b=Jb;b.u[a]||(b.u[a]=Gb())}var Kb;try{Kb=!document.getElementsByTagName("body")[0]}catch(Lb){Kb=l}var Mb=l;try{window.requestAnimationFrame(function(){Mb=Gb()})}catch(Nb){}var Ob=/\/\/[^.]+\.optimizely\.(com|test)\/(js|api\/client)\/[\d]+\.js/gi;
function Pb(){try{var a=Ja(window.performance.getEntries(),function(a){return!!Ob.test(a.name)})[0];if(!a)return l;var a=Qb({},a),b;for(b in a){var c=a[b];(0===c||"string"===typeof c)&&delete a[b]}return a}catch(d){return l}}var Jb=new function(){this.u={};this.la=Math.random()<pb()};function Rb(a,b,c){var d=a.split("?");if(d[1]){var e=[];$.each(d[1].split("&"),function(){0!==this.indexOf(Sb)&&e.push(this)});d[1]=e.join("&");a=d.join("?")}switch(c){case "exact":return a=Tb(a),a===Tb(b);case "regex":try{return Boolean(a.match(b))}catch(f){return n}case "simple":return a=Tb(Ub(a)),b=Tb(Ub(b)),a===b;case "substring":return a=Tb(a,k),b=Tb(b,k),-1!==a.indexOf(b);default:return n}}
function Ub(a){var b=a.indexOf("?");-1!==b&&(a=a.substring(0,b));b=a.indexOf("#");-1!==b&&(a=a.substring(0,b));return a}function Tb(a,b){var a=a.replace("/?","?"),a=a.toLowerCase().replace(/[/&?]+$/,""),c=Vb.slice(0);b||(c=c.concat(Wb));for(var d=c.length,e=0;e<d;e++)a=a.replace(RegExp("^"+c[e]),"");return a}
var Vb=["https?://.*?.?optimizelyedit.(com|test)/","https?://.*.?optimizelypreview.(com|test)/","https?://(edit|preview)(-hrd|-devel)?.optimizely.(com|test)/","https?://.*?.?optimizelyedit(-hrd)?.appspot.com/","https?://"],Wb=["www."],Sb="optimizely_";function Xb(a){a=a||{};if(t){a&&a.sVariable&&(Yb=a.sVariable);var b=Yb||("undefined"!==typeof window.s?window.s:l);if(b)if(Zb){if((a=$b)&&b)try{P("Integrator","Fixing SiteCatalyst referrer to %s",a),b.referrer=String(a)}catch(c){P("Integrator","Error setting SiteCatalyst referrer: %s",c)}P("Integrator","Tracking with SiteCatalyst");r(ac(),function(a){var c=C(a),a=Q(c,a,100,100,25,k),f=a.key+": "+a.value,a=[],g=J(c,"site_catalyst_evar")||l,c=J(c,"site_catalyst_prop")||l;g!==l&&a.push("eVar"+g);c!==
l&&a.push("prop"+c);r(a,function(a){P("Integrator","Setting SiteCatalyst %s='%s'",a,f);b[a]=f})})}else bc=k;else u("Integrator","Error with SiteCatalyst integration: 's' variable not defined")}}function cc(a){a=ea(a)?Number(a):-1;if(-1!==[1,2,3].indexOf(a))dc=a;else return dc}
function ec(){if(t){var a=$b;if(a)try{P("Integrator","Fixing _gaq._setReferrerOverride with %s",a),_gaq.push(["_setReferrerOverride",a])}catch(b){P("Integrator","Error setting Google Analytics referrer: %s",b)}r(ac(),function(a){var b=C(a);if(J(b,"chartbeat")){var c=fc;fc="";var g=Q(b,a,10,10,5,n);fc=c;c=jb(a);gc=g.key+": "+String(c);try{P("Integrator","Calling _cbq.push"),_cbq.push(["_optlyx",gc])}catch(j){u("Integrator","Error sending Chartbeat data for "+K(b))}}if(J(b,"crazyegg")){g=Q(b,a,100,
100,15,n);try{P("Integrator","Defining CE_SNAPSHOT_NAME"),window.CE_SNAPSHOT_NAME=g.key+": "+g.value}catch(m){u("Integrator","Error sending CrazyEgg data for "+K(b))}}if(mb(b)){g=mb(b);c=0;L(g)&&(c=g.slot||c);var g=c,c=mb(b),o="";L(c)&&(o=c.tracker||o);c=o;o=Q(b,a,28,24,5,k);try{var w="";""!==c&&(w=c+".");P("Integrator","Calling _gaq._setCustomVar for slot %d and scope %d",g,dc);_gaq.push([w+"_setCustomVar",g,o.key,o.value,dc])}catch(x){u("Integrator","Error sending Google Analytics data for "+K(b))}}if(q("kissmetrics")){g=
Q(b,a,100,100,15,k);c={};c[g.key]=g.value;try{P("Integrator","Calling _kmq.set"),_kmq.push(["set",c])}catch(E){u("Integrator","Error sending KISSmetrics data for "+K(b))}}if(J(b,"mixpanel")){g=Q(b,a,100,100,15,n);c={};c[g.key]=g.value;try{P("Integrator","Calling mixpanel.push"),mixpanel.push(["register",c])}catch(fa){u("Integrator","Error sending Mixpanel data for "+K(b))}}if(ob(b,"acct_no")){g=ob(b,"acct_no");c=ob(b,"url");o=Q(b,a,28,24,5,k);a=c+"/hit.xiti?s="+g+"&abmvc="+(b+"["+encodeURIComponent(o.key)+
"]-0-"+a+"["+encodeURIComponent(o.value)+"]")+"&type=mvt";try{P("Integrator","Sending AT Internet log call for account %s",g),ta(a,l)}catch(Ca){u("Integrator","Error sending AT Internet data for "+K(b))}}});a=y("optimizelyChartbeat")||"";try{if(a&&gc!=a&&(P("Integrator","Calling _cbq.push for referral"),_cbq.push(["_optlyr",a])),gc!=a)P("Integrator","Set new Chartbeat referral cookie."),B("optimizelyChartbeat",gc)}catch(c){u("Integrator","Error sending Chartbeat referral for "+a)}Zb=k;hc&&(ic(),hc=
n);bc&&(Xb(),bc=n)}}
function jc(){if(window.ClickTaleContext){try{window.ClickTaleContext.getAggregationContextAsync("1",function(a){a.Location&&window.optimizely.push(["overrideUrl",a.Location]);for(var b in a.PageEvents){var e=a.PageEvents[b][2].match(/x[0-9]+=[0-9_]+/g);P("Integrator","Playback ClickTale Integration - %s",e);for(b=0;b<e.length;b++){P("Integrator","Playback ClickTale Integration - %s",e[b]);for(var f=e[b].split("=")[0].substr(1),g=e[b].split("=")[1].split("_"),j=0;j<g.length;j++)kc(g[j])?P("Integrator",
"Skip activation for redirect."):window.optimizely.push(["activate",f,g[j],{force:k}])}}})}catch(a){P("Integrator","Playback ClickTale Aggregation Integration failed.")}try{window.ClickTaleContext.getRecordingContextAsync("1.1",function(a){if(a.inSingleRecordingScope){a.location&&window.optimizely.push(["overrideUrl",a.location]);P("Integrator","Playback ClickTale getRecordingContextAsync callback");for(var b in a.fields)P("Integrator","Playback ClickTale Integration - %s=%s",b,a.fields[b]),kc(a.fields[b])?
P("Integrator","Skip activation for redirect."):window.optimizely.push(["activate",b,a.fields[b],{force:k}])}})}catch(b){P("Integrator","Playback ClickTale Recording Integration failed.")}}else P("Integrator","ClickTaleContext not defined.")}
function lc(){P("Integrator","Tracking with ClickTale.");"function"==typeof window.ClickTaleField?r(ac(),function(a){var b=C(a),c=Q(b,a,100,100,15,n),c=c.key+": "+c.value+" (x"+b+"="+a+")";P("Integrator","Setting ClickTale - %s",c);window.ClickTaleField(b,a);window.ClickTaleEvent(c)}):P("Integrator","ClickTaleField() not defined.")}function mc(a){fc=a}function nc(a){Yb=a}function oc(a,b){return a.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_").substring(0,b)}
function ac(){var a=D.concat(G),b=[];r(Ea(),function(c){var e=C(c),f=n;if(Ya(e)){var g=kb(c);gb(a,e)&&(P("Integrator",'"%s" relevant because experiment active',g),f=k);f&&b.push(c)}});var c=Ga;c&&b.push(c);return b}function kc(a){return(a=pc(ib(a)))?a[1]:l}
function ic(){if(t)if(Zb){var a=window[window.GoogleAnalyticsObject||"ga"];if(a){var b=$b;if(b)try{P("Integrator","Fixing Universal Analytics set referrer with %s",b);for(var c=ga.getAll(),d=0;d<c.length;++d)c[d].set("referrer",b)}catch(e){P("Integrator","Error setting Universal Analytics referrer: %s",e)}P("Integrator","Tracking with Universal Analytics");r(ac(),function(b){var c=C(b);if(nb(c,"slot")){var d=nb(c,"slot"),e=nb(c,"tracker"),o=Q(c,b,100,100,25,k),b=o.key+" ("+c+"): "+o.value;150<b.length&&
(b=o.key.substring(0,80)+" ("+c+"): "+o.value,b=b.substring(0,149));c=e?e+".":"";P("Integrator","Calling ua set dimension - ga(%sset, dimension%d, %s)",c,d,b);a(c+"set","dimension"+d,b)}})}else u("Integrator","Error with Universal Analytics integration: 'GoogleAnalyticsObject' not defined")}else hc=k}
function Q(a,b,c,d,e,f){a=fc+bb(a);b=lb(b);1<b.length?(b=$.map(b,function(a){return a.substr(0,e-1)}),b=b.join("~")):b=b[0];f?(a=oc(a,c),b=oc(b.replace("#",""),d)):(a=a.substring(0,c),b=b.substring(0,d));return{key:a,value:b}}var hc=n,bc=n,gc="",dc=2,Zb=n,fc="Optimizely ",Yb=l;var qc,rc;
function sc(a,b,c){if(!S)return n;var d="number"===typeof b||"string"===typeof b?String(b):l,e=b===k||b&&b.force===k||c&&c.force===k,c=("object"===typeof b?b:c)||{},f=c.skip===k,b=c.skipPageview===k,g=c.enabledStatus;if(d)try{tc(a,d,k)}catch(j){u("API","Error while activating experiment "+a+" for variation "+d+" -- proceeding without bucketing user.")}var m=l,o=[],w=[];ea(a)?o.push(a):r(Xa(),function(a){ab(a)&&o.push(a)});u("API","Testing experiments to activate");r(o,function(a){if(!e&&!uc(a))vc.push(a);
else if(e||wc(a,{manualMode:k,objectType:"experiment",enabledStatus:g,visitor:T}))(m=xc(a,f))&&w.push(a)});yc(w,o);zc();ec();S&&!b&&ia(document.location.href,"pageview")}
function Ac(a){if(!S)return n;var b=p(sb.set,sb,"asyncInfo"),c=!!a;c&&(Ib("geoArrive"),b(a));if(!Bc)if(Bc=k,yb=a||yb){u("API","Testing geodelayed segments");r(Cc,function(a){Dc(a)});var d=[];u("API","Testing geodelayed experiments");r(vc,function(a){wc(a,{manualMode:k,objectType:"experiment",visitor:T})&&xc(a)&&d.push(a)});yc(d,vc);zc();ec();Ec||ia(document.location.href,"pageview");Fc();Ib(c?"geoSuccess":"geoCache")}else Ib("geoFailed");return k}
function Gc(a,b){var c=Za(a)||a,d=H()[c];d?d.audience_id?T.l(d.audience_id):d.dimension_id?T.r(d.dimension_id,b||k,n):Hc(c,b):u("API","Unable to find segment: "+c)}
function tc(a,b,c){Da=k;S&&c!==k&&ia(document.location.href);var a=String(a),b=String(b),d=l,e=b.split("_"),f=cb(a),b=f&&0!==f.length;if("-1"===e[0]){c=a;Jc[c]&&delete Jc[c];Kc[c]&&delete Kc[c];for(e=0;e<U.length;e++)U[e].m===c&&U.splice(e,1);Lc()}else if(b&&e.length==f.length)d=[],r(e,function(a,b){256>=Number(a)?d.push(fb(f[b])[a]):d.push(a)}),d=d.join("_");else if(!b&&1==e.length&&256>=Number(e[0])){var c=String,e=e[0],g=db(a),j=l;try{j=g[e]}catch(m){}d=c(j)}else 1==e.length?d=e[0]:u("API","Error: could not bucket user. Unknown arguments.");
d&&(b&&eb(a,d)?(b=d,c=eb(a,b),Mc[a]=Mc[a]||{},Mc[a][c]=b,u("Distributor","Preferring variation partial "+b+" of section "+c+" of experiment "+a),a=Nc(a),1===a.length&&Oc(a[0],"api.bucketUser",k)):Oc(d,"api.bucketUser",k));zc()}function Pc(a){a&&"tracking"===a||(u("API","Optimizely disabled"),S=n);t=n}function Qc(){u("API","Finalizing API.");Fc();qc=k}
function Rc(a,b){var c=[],d=b;A(b)&&(c=Sc(b,1),d=b[0]);var e=a[d];e?(u("API",'Called function "'+d+'"'),e.apply(l,c)):u("API",'Error for unknown function "'+d+'"');Tc()}function Uc(a,b){qc?u("API","Error: can't add custom tags after Optimizely loads"):(rc=rc||{},2==arguments.length?rc[a]=b:1==arguments.length&&$.extend(k,rc,a))}
function Vc(a,b){var c=Za(a)||a,b=L(b)?b:k,d=H()[c];d?d.audience_id?T.D(d.audience_id):d.dimension_id?T.r(d.dimension_id,l):Wc(c,b):u("API","Unable find segment for: "+c)}function Xc(){var a=v(H());r(a,function(a){Vc(a,n)});Yc()}
function Fc(){Zc={};$c={};ad={};r(Ea(),function(a){var b=C(a);Zc[b]=a.split("_");$c[b]=jb(a);ad[b]=kb(a)});V={};var a=q("audiences");a&&(V.audiences=a);V.experiments={};V.sections={};V.segments={};V.state={};V.variations={};V.visitor={};V.customTags=rc;for(var b=Xa(),a=0;a<b.length;a++){var c=b[a],d={};d.code=J(c,"code")||"";d.name=bb(c);d.manual=ab(c);d.section_ids=cb(c);d.variation_ids=db(c);V.experiments[c]=d}b=v(H());for(a=0;a<b.length;a++)c=b[a],V.segments[c]={name:M(c,"name")||"Seg "+c};b=v(q("sections")||
{});for(a=0;a<b.length;a++)c=b[a],d={},d.name=q("sections",c,"name")||"Sec "+c,d.variation_ids=fb(c),V.sections[c]=d;b=v(q("variations")||{});for(a=0;a<b.length;a++)c=b[a],d={},d.name=kb(c),d.code=ib(c),V.variations[c]=d;b={};a=ub();b.browser={ff:"Firefox",ie:"Internet Explorer",safari:"Safari",gc:"Google Chrome",opera:"Opera"}[a]||"";b.location=zb();b.ip=xb();b.params={};c=bd();c.reverse();a=0;for(d=c.length;a<d;a++)try{b.params[cd(c[a][0])]=cd(c[a][1])}catch(e){u("API","Failed to decode parameter "+
c[a][0]+"="+c[a][1])}b.referrer=String(document.referrer);b.segments=Fa();b.mobile="unknown"!==Ab();b.os=Db();b.dimensions=T.d;b.audiences=T.c;V.visitor=b;a={};a.activeExperiments=D||[];a.variationIdsMap=Zc;a.variationMap=$c;a.variationNamesMap=ad;V.state=a;Qb(window.optimizely,{activeExperiments:D,allExperiments:$a(),all_experiments:$a(),data:V,variationIdsMap:Zc,variationMap:$c,variationNamesMap:ad,variation_map:$c})}function dd(a){if(!ea(a))return n;ed=Number(a)}function fd(){Ia=k}
function gd(a){var b="";"number"!==typeof a?(b="must be a number.",a=31536E4):a=Math.floor(86400*a);7776E3>a&&(b="less then minimum.",a=7776E3);u("API",(b&&"Days argument "+b)+" Cookie expiration set to "+a+" seconds.");za=a;hd()}function id(){Ec=k}function jd(){y("optimizelyReportableFix")?u("API","skipping because cookie is set"):(r(q("audiences"),function(a){Ra(a)&&(u("API","Removing from reportable audience: "+a),T.D(a))}),B("optimizelyReportableFix","1",7776E3))}
var V={},yb=l,Bc=n,vc=[],Cc=[],Zc={},$c={},ad={},T=l;var kd=Math.pow(2,32);function xc(a,b){var b=b===k,c,d=l;r(U,function(b){a==b.m&&(d=b.id)});if((c=d)&&0<c.length)return u("Distributor","Not distributing experiment "+a+" (already in plan)"),k;if(b||a in Jc)return u("Distributor","Not distributing experiment "+a+" (is ignored)"),n;c=J(a,"enabled_variation_ids")||[];if(0===c.length)return u("Distributor","Permanently ignoring experiment "+a+" (no enabled variations)"),ld(a),n;var e=J(a,"ignore")||0;if(e>Math.floor(1E4*md(a,0)))return u("Distributor","Permanently ignoring experiment "+
a+"("+e/100+"% likelihood)"),ld(a),n;e=c;Mc[a]!==i&&(u("Distributor","Taking into account bucketUser variations for experiment "+a),e=Nc(a));var f;f=e;var g=[],j=J(a,"variation_weights")||{};r(f,function(a){g.push(j[a])});f=nd(a,g);e=e[f];u("Distributor","Picked variation "+e+" [index "+f+" of "+c.length+"]");Oc(e,"distributor");return k}
function md(a,b){function c(a,b){var c=b&65535;return((b-c)*a|0)+(c*a|0)|0}for(var d=Ha()+a,e=d.length,f=b||0,g=e&-4,j,m=0;m<g;m+=4)j=d.charCodeAt(m)&255|(d.charCodeAt(m+1)&255)<<8|(d.charCodeAt(m+2)&255)<<16|(d.charCodeAt(m+3)&255)<<24,j=c(j,3432918353),j=(j&131071)<<15|j>>>17,j=c(j,461845907),f^=j,f=(f&524287)<<13|f>>>19,f=5*f+3864292196|0;j=0;switch(e%4){case 3:j=(d.charCodeAt(g+2)&255)<<16;case 2:j|=(d.charCodeAt(g+1)&255)<<8;case 1:j|=d.charCodeAt(g)&255,j=c(j,3432918353),f^=c((j&131071)<<15|
j>>>17,461845907)}f^=e;f=c(f^f>>>16,2246822507);f=c(f^f>>>13,3266489909);return((f^f>>>16)>>>0)/kd}function nd(a,b){var c=b.length;if(0===c)return l;if(1===c)return 0;for(var d=0,e=0;e<c;e++)d+=b[e];d*=md(a,1);for(e=0;e<c;e++){if(d<b[e])return e;d-=b[e]}return Math.floor(md(a,2)*c)}function Nc(a){var b=[];r(J(a,"enabled_variation_ids")||[],function(c){var d=k,e;for(e in Mc[a])-1===c.indexOf(Mc[a][e])&&(d=n);d&&b.push(c)});return b}var Mc={};function bd(){var a=window.location.search||"";0===a.indexOf("?")&&(a=a.substring(1));for(var a=a.split("&"),b=[],c=0;c<a.length;c++){var d="",e="",f=a[c].split("=");0<f.length&&(d=f[0]);1<f.length&&(e=f[1]);b.push([d,e])}return b}function od(){for(var a=window.location.search,b,c=/optimizely_([^=]+)=([^&]*)/g,d={};b=c.exec(a);)d[b[1]]=cd(b[2]);return d}var pd=/x(\d+)/;function qd(a){return a&&-1!==String(a).indexOf("[native code]")};function pc(a){return a.match(/_optimizely_redirect(?:_no_cookie)?=(\S+)/)}function rd(a){return-1!==a.indexOf("_optimizely_redirect_no_cookie")}function sd(a){var a=a||"",b=y("optimizelyRedirect");return rd(a)||!b||b&&"true"===b.split("|")[1]?k:n}var $b=l,Ga="";var td=window.OPTIMIZELY_TEST_MODULE,ud="com local net org xxx edu es gov biz info fr nl ca de kr it me ly tv mx cn jp il in iq test".split(" "),vd=/\/\*\s*_optimizely_variation_url( +include="([^"]*)")?( +exclude="([^"]*)")?( +match_type="([^"]*)")?( +include_match_types="([^"]*)")?( +exclude_match_types="([^"]*)")?( +id="([^"]*)")?\s*\*\//;var ed=0,S=k,wd=n,Ia=n,xd="",yd=n,zd="",Ad=n,Bd=n,Cd=n,Da=n,Ec=n,t=k,za=31536E4;var z,Ka;
(function(){function a(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=g[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(c,d){var g,x,E,fa,Ca=e,R,F=d[c];"function"===typeof j&&(F=j.call(d,c,F));switch(typeof F){case "string":return a(F);case "number":return isFinite(F)?String(F):"null";case "boolean":case "null":return String(F);case "object":if(!F)return"null";e+=f;R=[];if("[object Array]"===Object.prototype.toString.apply(F)){fa=F.length;
for(g=0;g<fa;g+=1)R[g]=b(g,F)||"null";E=0===R.length?"[]":e?"[\n"+e+R.join(",\n"+e)+"\n"+Ca+"]":"["+R.join(",")+"]";e=Ca;return E}if(j&&"object"===typeof j){fa=j.length;for(g=0;g<fa;g+=1)"string"===typeof j[g]&&(x=j[g],(E=b(x,F))&&R.push(a(x)+(e?": ":":")+E))}else for(x in F)Object.prototype.hasOwnProperty.call(F,x)&&(E=b(x,F))&&R.push(a(x)+(e?": ":":")+E);E=0===R.length?"{}":e?"{\n"+e+R.join(",\n"+e)+"\n"+Ca+"}":"{"+R.join(",")+"}";e=Ca;return E}}var c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,f,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},j;Ka=function(a,c,d){var g;f=e="";if("number"===typeof d)for(g=0;g<d;g+=1)f+=" ";else"string"===typeof d&&(f=d);(j=c)&&("function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))&&h(Error("JSON.stringify"));return b("",{"":a})};z=function(a,b){function d(a,c){var e,f,g=a[c];if(g&&
"object"===typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=d(g,e),f!==i?g[e]=f:delete g[e]);return b.call(a,c,g)}var e,a=String(a);c.lastIndex=0;c.test(a)&&(a=a.replace(c,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"===typeof b?
d({"":e},""):e;h(new SyntaxError("JSON.parse"))}})();function Dd(a,b){var c;c=$.trim(b);var d="";if(window.optimizely&&window.optimizely.data)if(d=c.match(Ed))d=window.optimizely.data.visitor.params[d[1]],d===i&&(d="");else{for(var d=c.split("."),e=window.optimizely,f=0,g=d.length;f<g;f++)if(e=e[d[f]],e===i||e===l){e="";break}d=""+e}u("Template",c+" evaluated to: '"+d+"'");return d}var Fd=/\{\{ *optimizely\.([^\n\r{}<>]*)\}\}/g,Ed=/^data\.visitor\.params\.(.*)$/;function Gd(a){var b=a||Hd;u("Segmenter","Loading segments cookie.");if(a=y("optimizelySegments")){try{a=z(a)}catch(c){a={}}r(a,function(a,c){var d=H()[a];u("Segmenter","Segments cookie contains segment id: "+a);d&&d.audience_id?b.l(d.audience_id):d&&d.dimension_id?b.r(d.dimension_id,c,n):W[a]=c})}u("Segmenter","Evaluating all segments.");for(var a=v(H()),d=0;d<a.length;d++){var e=a[d];M(e,"is_api_only")?u("Segmenter","Not doing anything since segment "+e+" is api only."):(u("Segmenter","Testing whether to add to segment "+
e),uc(e)?Dc(e):Cc.push(e))}Id.push(hd);Yc();u("Integrator","Loading third-party segments.");if(window.bk_results){a=window.bk_results;u("Integrator","Loading BlueKai segments.");try{r(a.campaigns,function(a){a=a.seg_id;H()[a]?Hc(a,k):Qa(a)&&b.l(a)})}catch(f){u("Integrator","Error loading BlueKai segments.")}}}function hd(){var a={};r(W,function(b,c){c&&(a[b]=c)});B("optimizelySegments",Ka(a),za)}
function Hc(a,b){a&&!isNaN(parseInt(a,10))?(!b&&""!==b&&(b=k),W[a]=b,Yc()):u("Segmenter","Unable to find segment for ID: "+a)}function Yc(){r(Id,function(a){a()})}
function Dc(a){u("Segmenter","Evaluating Segment "+a);if(wc(a,{objectType:"segment"})){var b;a:{var c=b=l;switch(M(a,"segment_value_type")||""){case "browser":b=X.I();c="unknown";break;case "campaign":b=X.ca();c="none";break;case "country":b=X.o().country;c="unknown";break;case "language":b=X.w();c="none";break;case "mobile":b="unknown"!==X.N();break;case "os":b=X.ga();c="unknown";break;case "referrer":b=X.ha();c="none";break;case "source_type":b=X.ia();c="direct";break;default:b="true";break a}if(b===
l){if(W.hasOwnProperty(a)){b=l;break a}b=c}b=Jd(b)}b!==l&&Hc(a,b)}}function Kd(){var a=X.A();if(X.f("utm_source")||X.f("gclid")||X.f("otm_source"))return"campaign";for(var b=["google\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","https://(www)?\\.google\\..*?/$","bing\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","yahoo\\.\\w{2,3}(\\.\\w{2,3})?/search","baidu\\.\\w{2,3}(\\.\\w{2,3})?/s?"],c=0;c<b.length;c++)if(a.match(b[c]))return"search";return a&&wb(a)!==wb(X.n())?"referral":l}
function Ld(){var a=[];r(W,function(b,c){c&&a.push(b)});return a}function Fa(){var a={};r(W,function(b,c){c&&(a[String(b)]=c)});return a}function Md(a){return r(W,function(b,c){if((M(b,"segment_value_type")||"")==a)return c})}function Wc(a,b){var c=Za(a)||a;W[c]?(W[c]=n,("undefined"===typeof b||b)&&Yc()):u("Segmenter","Not removing "+a+", not found")}function Jd(a,b){var c,b=L(b)?b:k;c=c||Nd;a=cd(a);a=String(a);b&&(a=a.toLowerCase());a=a.substring(0,c);return encodeURIComponent(a)}
var Id=[],W={},Nd=20;function Od(a,b){var c=k;r(a,function(a){if(!b(a))return c=n});return c}function Y(a,b){var c=n;r(a,function(a){if(b(a))return c=k});return c}function gb(a,b){for(var c=0;c<a.length;c++)if(b==a[c])return k;return n}function Pd(a,b){var c=Sc(arguments,1);return function(){var b=Sc(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}
function r(a,b){var c=l;if(A(a))for(var d=a.length,e=0;e<d&&!(c=b.call(i,a[e],e),L(c));++e);else for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&(c=b.call(i,d,a[d]),L(c)))break;return c}function Qb(a,b){r(b,function(b,d){a[b]=d});return a}function Ja(a,b){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d];b(f)&&c.push(f)}return c}function Qd(a,b){return r(b,function(b){if(b===a)return k})||n}function A(a){return a&&"object"===typeof a&&a.length&&"number"===typeof a.length}
function L(a){return"undefined"!==typeof a}function ea(a){return("number"===typeof a||"string"===typeof a)&&Number(a)==a}function v(a){v=Object.va||function(a){var c=[];r(a,function(a){c.push(a)});return c};return v.call(l,a)}
function Rd(a,b){function c(){var b=document.head||document.getElementsByTagName("head")[0]||document.documentElement,c=document.createElement("script");c.src=a;c.type="text/javascript";b.appendChild(c)}if(b)try{if("loading"===document.readyState){var d="optimizely_synchronous_script_"+Math.floor(1E5*Math.random());document.write('<script id="'+d+'" src="'+a+'"><\/script>');1!==$("#"+d).length&&h(Error("Document.write failed to append script"))}else h(Error("Not safe to attempt document.write"))}catch(e){try{var f=
new XMLHttpRequest;f.open("GET",a,n);f.onload=function(){eval(f.responseText)};f.onerror=function(){h(Error())};f.send()}catch(g){P("Common","Failed to load %s synchronously",a),c()}}else c()}function P(a,b,c){var d=window.console;if(Bd&&d&&d.log){var e=Sc(arguments,1);e[0]="Optimizely / "+a+" / "+b;Function.prototype.apply.call(d.log,d,e)}}function cd(a){try{return decodeURIComponent(a)}catch(b){return a}}function Sc(a,b){return Array.prototype.slice.call(a,b||0,a.length)};function u(a,b,c){Sd.push({Z:new Date,X:a,message:b,R:c||n});Td&&Tc()}function Ud(){Bd=k}function Vd(){Cd=Bd=k}function Tc(){Bd&&(r(Sd,function(a){if(!a.pa&&(!a.R||a.R===Cd)){var b=+a.Z;P(a.X,a.message+(" [time "+(Wd?b-Wd:0)+" +"+(Xd?b-Xd:0)+"]"));Xd=b;Wd||(Wd=b);a.pa=k}}),Td=k)}var Xd=l,Wd=l,Sd=[],Td=n;function y(a){var b=/^([^=]+)=?(.*)$/,c=[],d;r((document.cookie||"").split(/\s*;\s*/),function(e){(d=e.match(b))&&a===d[1]&&c.push(cd(d[2]))});var e=c.length;1<e&&P("Cookie","Values found for %s: %s",a,e);return 0===e?l:c[0]}
function B(a,b,c){var d=Yd||Zd||$d,e=document.location.hostname,b=b||"";!Zd&&q("remote_public_suffix")&&ae.push({ua:c,name:a,value:b});d&&(d===Zd&&d!==$d)&&(be(a,e),be(a,$d));ce(a,b,d,c);var f=y(a);f===b?P("Cookie","Successful set %s=%s on %s",a,b,d):(P("Cookie","Setting %s on %s apparently failed (%s != %s)",a,d,f,b),P("Cookie","Setting %s on %s",a,e),ce(a,b,e,c),f=y(a),f===b?(P("Cookie","Setting %s on %s worked; saving as new public suffix",a,e),$d=e):(P("Cookie","Could not set cookie %s, disabling event tracking.",
a),t=n))}function be(a,b){P("Cookie","Deleting %s on %s",a,b);document.cookie=[a,"=; domain=.",b,"; path=/; expires=",(new Date(0)).toUTCString()].join("")}function ce(a,b,c,d){a=[a,"=",encodeURIComponent(b),"; domain=.",c,"; path=/"];d&&a.push("; expires=",(new Date(+new Date+1E3*d)).toUTCString());document.cookie=a.join("")}function de(a){var b=Yd||Zd||$d;b!==a&&(Yd=String(a)||"",P("Cookie","Api public suffix set to: %s",Yd),hd(),be("optimizelySegments",b))}var $d="",Yd="",Zd="",ae=[];function ee(){}
Qb(ee.prototype,{I:ub,ba:vb,N:Ab,H:function(){return{id:this.I(),version:this.ba(),mobileId:this.N()}},ca:function(){return this.f("utm_campaign")},J:y,z:xb,w:function(){var a="";try{a=navigator.userLanguage||window.navigator.language,a=a.toLowerCase()}catch(b){a=""}return a},o:zb,n:function(){return Fb||window.location.href},O:Bb,fa:function(){return!Cb?k:!!tb.get("first_session")},aa:bd,ga:Db,A:function(){return y("optimizelyReferrer")||document.referrer||""},ha:function(){return wb(this.A())},P:Ld,
ia:Kd,ea:function(){return document.referrer},f:function(a){a:{for(var b=this.aa(),b=b||bd(),c=0;c<b.length;c++){var d=b[c];if(d[0]===a){a=d[1];break a}}a=l}return a},da:function(){return rc},K:function(a){return(this.da()||{})[a]},ja:function(){var a=y("optimizelyCustomEvents")||"{}";try{a=z(a)}catch(b){a={}}a=a[Ha()]||[];return A(a)?a:[]},ka:function(a){var b=this.P();return gb(b,a)},U:function(a){return gb(this.ja(),a)},getDate:function(){return new Date},M:function(){return(yb||l)&&(yb||l).lists||
l},L:function(a){a=this.M()&&this.M()[a];L(a)||(a=l);return a}});var X=new ee;function fe(){this.c={};this.d={};this.i={};this.T={}}fe.prototype.na=function(a){var b=this.i.hasOwnProperty(a)||this.T.hasOwnProperty(a);if(!this.c.hasOwnProperty(a)||!b)try{var c=this.c,d=Qa(a);d||h(Error("Unable to find audience for id: "+a));var e=ge(this,d.conditions);u("Visitor","Checking if in audience "+a+": "+e);c[a]=e}catch(f){u("Visitor","Error: "+f.message)}return this.c[a]};
function he(a,b,c,d){d=Qb({q:k,S:k,j:k},d);if(Qa(b)){a.c[b]=c;var e=Ra(b);e?a.T[b]=c:d.q?a.i[b]=c:delete a.i[b];e&&d.j&&a.j(e,c);if(!e&&d.q&&d.S){var f=[];r(a.i,p(function(a){this.c[a]&&f.push(a)},a));f.sort();B("optimizelyAudiences",f.join(","),31536E4)}}else u("Visitor","Unable to find audience "+b)}fe.prototype.l=function(a){he(this,a,k)};fe.prototype.D=function(a){he(this,a,n)};fe.prototype.ra=function(){r(this.c,p(function(a){he(this,a,n,{q:!!this.i.hasOwnProperty(a)})},this))};
function ie(a,b,c,d){d=!L(d)||d;L(c)&&c!==l&&String(c)?(d&&(c=Jd(String(c),n)),a.d[b]=c):delete a.d[b];return a.d[b]}fe.prototype.r=function(a,b,c){var d;a:{for(d in q("dimensions")||{}){var e=a,f=Ua(d,"api_name");if(e===(!f?l:f))break a}d=l}d=d||a;q("dimensions",d)?"custom_dimension"===Va(d)?(b=ie(this,d,b,c),a=Ua(d,"segment_id"),(a=!a?l:a)&&this.j(a,b),u("Visitor",'Set dimension "'+d+'" to "'+b+'"')):u("Visitor",'Unknown dimension "'+d+'"'):u("Visitor","Unable to find dimension "+a)};
fe.prototype.j=function(a,b){b?Hc(a,b):Wc(a)};var Hd=new fe;function je(a){W={};Gd(a)};function ke(a,b){if(a&&b)if(le)u("Evaluator","Bound event "+b+" to selector "+a),me(a,b);else{var c={e:b,b:a,type:"event '"+b+"' (click goal)",k:k};u("Evaluator","Add step to bind event "+c.e+" to selector "+c.b);ne.push(c)}}
function yc(a,b){if(S){A(a)?oe(a):(a=[],oe(b));a=a.concat(G);G=[];for(var c=0;c<a.length;c++)gb(D,a[c])||D.push(a[c]);c=a;c===i?c=[]:ea(c)&&(c=[c]);for(var d=Ea(c),e=[],f=[],g=[],j=[],m=Ja(Sa(),function(a){return a.experiments?n:pe(a.url_conditions||[])}),o=0,w=m.length;o<w;o++){var x={e:m[o].event_name,b:m[o].selector,type:"event '"+m[o].event_name+"' (click goal)",k:k};"revenue"in m[o]&&(x.revenue=m[o].revenue);e.push(x)}r(c,function(a){var b={},c=J(a,"events")||{};r(c,function(a,c){b[a]=[c]});
var c=Ja(Sa(),function(b){return"experiments"in b?a in b.experiments:n}),d=0;for(;d<c.length;d++){var m=c[d];b[m.selector]||(b[m.selector]=[]);b[m.selector].push({eventName:m.event_name,revenue:m.revenue,experimentIds:m.experiments})}r(b,function(b,c){r(c,function(c){e.push({e:c.eventName,h:c.experimentIds,a:c.revenue,b:b,type:"event '"+c.eventName+"' (experiment "+a+")",k:k})})});c=J(a,"css")||"";d=J(a,"code")||"";c&&g.push({code:'$("body").append("<style>'+c.replace(/([\f\n\r\t\\'"])/g,"\\$1")+
'</style>");',b:"body",type:"global css (experiment "+a+")",k:k});d&&qe(d,f,j)});r(d,function(a){for(var b=ib(a),b=b.split("\n"),c=[],d=k,e=0,g=b.length;e<g;e++){var m=$.trim(b[e]);if(m==="/* _optimizely_variation_url_end */")d=k;else if(m!==""){var o=vd.exec(m);if(o&&o.length===13){var w=o[2]?o[2].split(" "):[],m=o[4]?o[4].split(" "):[],x=o[6]?o[6]:"substring",Ic=o[8]?o[8].split(" "):[],o=o[10]?o[10].split(" "):[];if(w.length>0){d=re(w,Ic,x);d=pe(d)}if(d&&m.length>0){d=re(m,o,x);d=!pe(d)}}else d&&
c.push(m)}}b=c.join("\n");qe(b,f,j,a)});c=[];c.push.apply(c,f);c.push.apply(c,g);c.push.apply(c,j);c.push.apply(c,e);ne.push.apply(ne,c);se()}}
function se(){var a=n;te=l;for(u("Evaluator",ue+" times waited");!a&&0<ne.length;){u("Evaluator",ne.length+" steps remaining");var b=ne.shift(),c=b,a=n;if(c.ta&&!le)u("Evaluator","Document not ready yet"),a=k;else if(c.k&&!le&&(c=c.b))for(var c=A(c)?c:[c],d=0;d<c.length;d++){var e=c[d];if(!(e===l||e===i||!e.length))if(0===("document"==e?$(document):$(e)).length)u("Evaluator","'"+e+"' not found"),a=k}a?ne.unshift(b):b.e?(ve(),u("Evaluator","Bound event "+b.e+" to selector "+b.b),c={},b.a&&(c={a:b.a,
h:b.h}),me(b.b,b.e,c)):b.code&&(u("Evaluator","Run code: "+b.code),we(b.code,b.t))}a?(te=setTimeout(se,0===ue?10:50),ue++):(u("Evaluator",ue+" total times waited"),ve())}function ve(){Ib("flash");0===vc.length&&Ib("flashGeo")}
function we(a,b){a=a.replace(Fd,Dd);if(pc(a))if(u("Evaluator","Redirect detected"),sd(a)){u("Evaluator","OK to redirect");var c=rd(a);u("Evaluator","setting a redirect cookie"+(b?" for variation: "+b:""));B("optimizelyRedirect",(b||"unknown variation")+"|"+(c?"true":"false"),5);B("optimizelyReferrer",document.referrer,5)}else{u("Evaluator","NOT OK to redirect");return}eval("var $j = $;");try{eval(a)}catch(d){c=Bd,Bd=k,u("Evaluator","Error: "+d.message),u("Evaluator","Code: "+a),Bd=c,u("Evaluator",
"Failed to run code: "+d.message)}}
function me(a,b,c){c=c||{};if(!xe[a]||!xe[a][b]){var d=function(){ia(b,"custom",c)},e=$(a);if(0<e.length){var f=function(){e.unbind("touchend",d);e.unbind("touchmove",f);e.unbind("mousedown",d)},g=function(){f();e.bind("touchmove",f);e.bind("touchend",d)};e.bind("mousedown",d);e.bind("touchstart",g)}else e=$("html"),f=function(){e.undelegate(a,"touchend",d);e.undelegate(a,"touchmove",f);e.undelegate(a,"mousedown",d)},e.delegate(a,"touchstart",function(){f();e.delegate(a,"touchend",d);e.delegate(a,
"touchmove",f)}),e.delegate(a,"mousedown",d);xe[a]||(xe[a]={});xe[a][b]="mousedown touchstart"}}function ye(a){ze=a}function oe(a){a||(a=Xa());for(var b=0;b<a.length;b++)K(a[b])}var xe={},D=[],G=G||[],ze=0,le=n,ne=[],te=l,ue=0;$(function(){setTimeout(function(){Ib("docReady");le=k;te!==l&&(u("Evaluator","Document is ready"),clearTimeout(te),0<ze?setTimeout(se,ze):se())},50)});function Ae(a){var b=a.split(":");2!==b.length&&h(Error("optly.timeAndDayInterval.timeStringToMinutes: Invalid time string "+a));return 60*parseInt(b[0],10)+parseInt(b[1],10)};function wc(a,b){var c=b.manualMode===k,d=b.objectType?b.objectType:"experiment",e="experiment"===d,f=b.enabledStatus,g=b.visitor||Hd;u("Condition","Testing "+d+" "+a);var f=e&&(L(f)?!!f:Ya(a)),j=e&&ab(a),m;a:switch(d){case "experiment":m=J(a,"conditions");break a;case "segment":m=M(a,"add_condition");break a;default:m=[]}if(e&&!f)return u("Condition","Failed for "+d+" "+a+" (paused)"),n;if(e&&!c&&j)return u("Condition"," Failed for "+d+" "+a+" (manual activation mode)"),n;if(m){var o="experiment"===
(d||"experiment"),w=k;r(m,function(b){var c=b.type;if(o&&b.only_first_time&&Be(a))u("Condition",c+" condition passed because it only gets checked when bucketing",k);else{var d=!b.not,b=(0,Ce[c])(b),e=b!==d;u("Condition","Found that "+("the visitor "+(b?"passed":"failed")+" a "+c+" targeting condition  when it needed to "+(d?"pass":"fail")),!e);if(e)return w=n}});if(!w)return u("Condition","Failed for "+d+" "+a+" (condition failed)"),n}else{a:{c=[];e=[];if("experiment"===d)c=J(a,"audiences")||[],e=
J(a,"urls")||[];else if("segment"===d)(f=M(a,"audience_id"))&&(c=[f]);else{u("Condition","Not a valid objectType: "+d);d=n;break a}if(0<c.length&&(u("Condition","Testing audiences for "+d+" "+a+": "+c),!Y(c,p(g.na,g)))){u("Condition","Failed to match any audiences for "+d+" "+a);d=n;break a}if(0<e.length){u("Condition","Testing URLs for "+d+" "+a);var g=e,x=X.n(),E=[],fa=[];r(g,function(a){a.negate?fa.push(a):E.push(a)});g=function(a){return Y(a,function(a){return De(x,a)})};if(g(fa)||!(0===E.length||
g(E))){u("Condition","Failed to match any URL for "+d+" "+a);d=n;break a}}d=k}if(!d)return n}return k}function Ee(a,b){var c=b.value,d=a.id,e=a.version,f=a.mobileId;return f&&"unknown"!==f?(u("Condition",f,k),"mobile"===c||c===f):0===c.indexOf(d)?(c=c.substr(d.length),""===c||c<=e&&e<Number(c)+1):n}function Fe(a,b){var c=b.value;if(c===i)return k;try{return Boolean(eval(c))}catch(d){return n}}function Ge(a,b){var c=b.value;return!L(c)?L(a)&&a!==l:a==c}
function He(a,b){return!L(b.value)?L(a):b.value===String(a)}function Ie(a,b){var c=b.value;switch(b.match){case "exact":if(a==c&&""!=a)return k;break;case "prefix":if(0==a.indexOf(c))return k;break;case "regex":try{var d=RegExp(c)}catch(e){break}if(d.test(a))return k;break;case "cidr":try{var f;a:{var g=new Je(c),j=Ke(a);j===l&&h(Error("Invalid ip: "+a));for(c=0;4>c;c++)if((j[c]&g.B[c])!==g.C[c]){f=n;break a}f=k}return f}catch(m){}}return n}
function Le(a,b){var c=b.value;return"any"===c||0===a.indexOf(c)}function Me(a,b){var c=b.value.split("|"),d=$.trim(c[0]),e=$.trim(c[1]),f=$.trim(c[2]),g=$.trim(c[3]);switch(c.length){case 1:if(O(a.country)===d)return k;break;case 2:if(O(a.region)===e&&O(a.country)===d)return k;break;case 3:if(O(a.city)===f&&(O(a.region)===e||""===e)&&O(a.country)===d)return k;break;case 4:if(O(a.continent)===g)return k}return n}function Ne(a,b){var c=b.value;return!L(c)?L(a)&&a!==l:a==c}
function Oe(a,b){var c=b.value,d=b.match;u("Condition","Testing referrer "+a+" against  "+c+" ("+d+")",k);return Rb(a,c,d)}function Pe(a){return!!a}function pe(a){var b=X.n();return Y(a.values,ca(De,b))}function De(a,b){var c=b.value,d=b.match;u("Condition","Testing URL "+a+" against  "+c+" ("+d+")",k);return Rb(a,c,d)}function Qe(a,b){switch(b.value){case "new":if("returning"===a)return n;break;case "returning":return"returning"===a}return k}
function ge(a,b){var c={and:function(b){return Od(b,ca(ge,a))},or:function(b){return Y(b,ca(ge,a))},not:function(b){1!==b.length&&h(Error('"not" argument too long: '+Ka(b)));return!ge(a,b[0])}};if(A(b)){if(b[0]in c)return c[b[0]](b.slice(1));h(Error("Not an operator"))}var c=b.dimension_id,d=Va(c),e=b.value;d||h(Error("No dimension type for dimension: "+c));var f=Re[d];f||h(Error("Unknown dimension type: "+d));d=i;if(a.d.hasOwnProperty(c))d=a.d[c];else try{var g=Va(c)||"",j,m;q("dimensions",c)||h(Error("Unable to find dimension for id: "+
c));"custom_dimension"===g&&h(Error("calculateDimensionValue called on custom dimension "+c));(j={browser:p(X.H,X),campaign:ca(Md,"campaign"),cookies:p(X.J,X),custom_tag:p(X.K,X),event:p(X.U,X),first_session:p(X.fa,X),ip:p(X.z,X),language:p(X.w,X),list:p(X.L,X),location:p(X.o,X),query:p(X.f,X),referrer:p(X.A,X),segment:p(X.ka,X),source_type:ca(Md,"source_type"),time_and_day:p(X.getDate,X),url:p(X.n,X),visitor:p(X.O,X)}[g])&&(m=j(Wa(c)));u("Visitor","Got dimension value "+c+": "+m);d=m}catch(o){u("Visitor",
"Error: "+o.message)}return f(d,{value:e,match:b.match||"exact"})}function uc(a){var b=k;!J(a,"conditions")&&!M(a,"add_condition")?(b=[M(a,"audience_id")],b[0]||(b=J(a,"audiences")||[]),b=Od(b,function(a){a=Qa(a);return!a.conditions?k:Se(a.conditions)})):(J(a,"uses_geotargeting")||M(a,"uses_geotargeting"))&&(b=Te.ip(l)||Te.location(l));b||u("Condition","Not ready to test (geotargeting): "+a);return b}
function Se(a){if(A(a))return Od(a.slice(1),Se);var b=Va(a.dimension_id)||"";return(b=Te[b])?b(a):k}
var Ce={browser:function(a){var b=X.H();return Y(a.values,function(a){return Ee(b,{value:a})})},code:function(a){return Fe(0,a)},cookies:function(a){for(var b=a.names||[],a=a.values||[],c,d=0;d<b.length;d++)if(c=b[d],Ge(X.J(c),{value:a[d]||i}))return k;return n},custom_tag:function(a){return Y(a.values,function(a){return He(X.K(a.key),{value:a.value})})},event:function(a){return Y(a.values,function(a){return X.U(a)})},ip:function(a){var b=X.z();return Y(a.values,ca(Ie,b))},language:function(a){var b=
X.w();return Y(a.values,function(a){return Le(b,{value:a})})},location:function(a){var b=X.o();return Y(a.values,function(a){return Me(b,{value:a})})},query:function(a){return 0===a.values.length?k:Y(a.values,function(a){return Ne(X.f(a.key),{value:a.value})})},referrer:function(a){return Y(a.values,ca(Oe,X.ea()))},segment:function(a){var b=X.P();return Y(a.values,function(a){return Pe(Qd(a,b))})},url:pe,visitor:function(a){var b=X.O();return Qe(b,a)}},Re={browser:Ee,campaign:function(a,b){return!b.value?
a!==l&&"none"!==a:b.value===a},code:Fe,cookies:Ge,custom_dimension:function(a,b){var c=b.value;return!L(c)?L(a):c==a},custom_tag:He,event:function(a){return a},first_session:function(a){return a},ip:Ie,language:Le,list:function(a,b){if(a===l||!L(a))return n;var c=b.value;return!L(c)?""===a||a!==n:a.toString()===c},location:Me,query:Ne,referrer:Oe,segment:Pe,source_type:function(a,b){return b.value===a},time_and_day:function(a,b){var c,d,e;c=b.value;e=c.split("_");3!==e.length&&h(Error("Invalid time and day string "+
c));c=e[0];d=e[1];e=e[2].split(",");c=Ae(c);d=Ae(d);var f=60*a.getHours()+a.getMinutes(),g="sunday monday tuesday wednesday thursday friday saturday".split(" ")[a.getDay()];return f>=c&&f<=d&&-1!==$.inArray(g,e)},url:De,visitor:Qe},Te={ip:function(){return!!X.z()},location:function(){var a=X.o();return!!(a&&a.continent||a.country||a.region||a.city)},list:function(a){return X.L(Wa(a.dimension_id)||"")!==l}};function Je(a){this.Y=$.trim(a);a=Ue(this.Y);a===l&&h(Error("Invalid CIDR specification"));this.C=a.C;this.B=a.B}function Ue(a){a=a.split("/");if(2!=a.length)return l;var b=parseInt(a[1],10);if(isNaN(b)||0>b||32<b)return l;a=Ke(a[0]);if(a===l)return l;if(0>b||32<b)b=l;else{for(var c=[],d=0;4>d;d++)c[d]=0;for(var e=Math.floor(b/8),d=0;d<e;d++)c[d]=255;4>e&&(c[e]=Ve[b%8]);b=c}for(c=0;4>c;c++)a[c]&=b[c];return{C:a,B:b}}
function Ke(a){a=a.split(".");if(4!=a.length)return l;for(var b=[],c=0;4>c;c++){var d;d=a[c];if(3<d.length)d=l;else{var e=parseInt(d,10);d=isNaN(e)||d!==e.toString()||0>e||255<e?l:e}if(d===l)return l;b[c]=d}return b}var Ve=[0,128,192,224,240,248,252,254,255];function We(a){return function(b){if("object"===typeof b&&Xe()){var c=l,d;for(d in b)b.hasOwnProperty(d)&&(c=a.call(this,d,b[d]));return c}return a.apply(this,arguments)}}function Xe(){for(var a in{})return k;return n};function Ye(){var a=zd,b=document.createElement("a");b.href=a;for(var a=0,c=Ze.length;a<c;a++){var d=Ze[a];if(d.test(b.pathname))return n}a=0;for(c=$e.length;a<c;a++)if(d=$e[a],d.test(b.hostname))return n;return RegExp(af).test(b.hostname)||""===b.hostname}
var $e=[/.*?\.?optimizelyedit\.(com|test)/,/.*\.?optimizelypreview\.(com|test)/,/(edit|preview)(-local)?(-hrd)?\.optimizely\.(com|test)/,/optimizelyedit(-hrd)?\.appspot\.com/,/cdn[^\.]*\.optimizely\.com/],Ze=[/^\/?api\/client/],af=window.optlyConfig&&window.optlyConfig.domain?window.optlyConfig.domain.whiteList:"(www\-devel\.optimizely\.com$)|(www\-devel\.optimizely\.appspot\.com$)|(www\-devel\-dot\-optimizely\.appspot\.com$)|(\.optimizely\.com$)|(\.optimizely\.at$)|(\.optimizely\.be$)|(\.optimizely\.bg$)|(\.optimizely\.by$)|(\.optimizely\.ch$)|(\.optimizely\.cl$)|(\.optimizely\.co\.il$)|(\.optimizely\.co\.nz$)|(\.optimizely\.co\.uk$)|(\.optimizely\.com\.br$)|(\.optimizely\.com\.hr$)|(\.optimizely\.com\.mx$)|(\.optimizely\.cz$)|(\.optimizely\.de$)|(\.optimizely\.es$)|(\.optimizely\.dk$)|(\.optimizely\.fr$)|(\.optimizely\.gr$)|(\.optimizely\.hk$)|(\.optimizely\.ie$)|(\.optimizely\.it$)|(\.optimizely\.jp$)|(\.optimizely\.lt$)|(\.optimizely\.lu$)|(\.optimizely\.lv$)|(\.optimizely\.nl$)|(\.optimizely\.mx$)|(\.optimizely\.pl$)|(\.optimizely\.pt$)|(\.optimizely\.ro$)|(\.optimizely\.ru$)|(\.optimizely\.se$)|(\.optimizely\.sg$)|(\.optimisely\.com$)|(\.optimisely\.at$)|(\.optimisely\.be$)|(\.optimisely\.bg$)|(\.optimisely\.by$)|(\.optimisely\.ch$)|(\.optimisely\.cl$)|(\.optimisely\.co\.il$)|(\.optimisely\.co\.nz$)|(\.optimisely\.co\.uk$)|(\.optimisely\.com\.br$)|(\.optimisely\.com\.hr$)|(\.optimisely\.com\.mx$)|(\.optimisely\.cz$)|(\.optimisely\.de$)|(\.optimisely\.es$)|(\.optimisely\.dk$)|(\.optimisely\.fr$)|(\.optimisely\.gr$)|(\.optimisely\.hk$)|(\.optimisely\.ie$)|(\.optimisely\.it$)|(\.optimisely\.jp$)|(\.optimisely\.lt$)|(\.optimisely\.lu$)|(\.optimisely\.lv$)|(\.optimisely\.nl$)|(\.optimisely\.mx$)|(\.optimisely\.pl$)|(\.optimisely\.pt$)|(\.optimisely\.ro$)|(\.optimisely\.ru$)|(\.optimisely\.se$)|(\.optimisely\.sg$)|(\.optimizely\.test$)|(\.optimizely\.appspot\.com$)|(\.optimizely\-hrd\.appspot\.com$)|(\-dot\-optimizely\.appspot\.com$)|(\-dot\-optimizely\-hrd\.appspot\.com$)";function Oc(a,b,c){var d;d=n===k;var c=c===k,e=n,f=C(a);if(f&&(c||!Be(f))){e=k;if(c&&Be(f))for(c=0;c<U.length;c++)U[c].m===f&&U.splice(c,1);U.push({m:f,id:a,source:b});d&&(G=G||[],G.push(f));Kc[f]=k;Lc();u("Plan","Added experiment "+f+" and variation id "+a+" to the plan, source is "+b,k)}return e}function Be(a){return a in Jc||a in Kc}function Ea(a){var b=[],c=!L(a),a=a||[];r(U,function(d){(c||gb(a,d.m))&&b.push(d.id)});return b}function ld(a){var b;if(b===k||!Be(a))Jc[a]=k,Lc()}
function zc(){var a={};r(bf,function(b,c){a[b]=c});r(U,function(b){var c=C(b.id);a[c]=b.id});r(Jc,function(b){a[b]="0"});r(q("blacklisted_experiments")||{},function(b){b in a&&delete a[b]});B("optimizelyBuckets",Ka(a),za)}function Lc(){r(cf,function(a){a()})}
function qe(a,b,c,d){if(-1!==a.indexOf("_optimizely_redirect"))b.push({code:a,type:"code forced (redirect)",t:d});else{for(var a=a.split("\n"),e=n,f=n,g=[],j=[];0<a.length;){var m;m=a.shift().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var o=0<j.length;if(m)if(Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}force/i)))f=k;else if(Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}safe/i))||Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_force/i)))f=n;else if(Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}editor_only/i)))e=
k;else if(Boolean(m.match(/_optimizely_evaluate\s{0,9}=\s{0,9}end_editor_only/i)))e=n;else if(!df.exec(m)&&!e)if(f)g.push(m);else{if(!o){var w=ff.exec(m),x=[];w?(x.push(w[1].replace(/^['"]|['"]$/g,"")),(w=gf.exec(m))&&4<w.length&&x.push(w[4]),c.push({code:m,b:x,type:"safe jquery",k:k,t:d})):o=k}o&&j.push(m)}}0<g.length&&b.push({code:g.join("\n"),type:"forced evaluation",t:d});0<j.length&&c.push({code:j.join("\n"),type:"safe non-jquery",ta:k,t:d})}}
function re(a,b,c){for(var d={values:[]},e=0,f=a.length;e<f;e++)d.values.push({value:a[e],match:b[e]||c});return d}var cf=[],bf={},Jc={},gf=/^\$j?\(['"](.+?)['"]\)\.detach\(\)\.(appendTo|insertAfter|insertBefore|prependTo)\(['"](.+?)['"]\);(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,df=/^(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,ff=/^\$j?\((['"].+?['"]|document)\)\..+;(?:\s|(?:\/\/.*|\/\*(?:[^*]|\*(?!\/))*\*\/))*$/,Kc={},U=[];function Z(){if(!td){var a=$;a.fn.attr=We(a.fn.attr);a.fn.css=We(a.fn.css);a.fn.extend=We(a.fn.extend);var b=a.each;a.each=function(c,d,e){if(!(c.length===i||a.isFunction(c))||!Xe())b.apply(this,arguments);else if(e)for(var f in c){if(c.hasOwnProperty(f)&&d.apply(c[f],e)===n)break}else for(f in c)if(c.hasOwnProperty(f)&&!d.call(c[f],f,c[f])===n)break;return c};var c=a.fn.ma,d=function(a,b,d){return new c(a,b,d)},e,f=document.getElementsByClassName;if(!qd(f))var f=(window.optimizely||{}).getElementsByClassName,
g=(window.optly||{}).getElementsByClassName,f=qd(f)?f:qd(g)?g:l;e=f;a.fn.ma=function(b,c,f){var g=d,j=document.getElementsByClassName;!qd(j)&&e&&(g=function(a,b,c){document.getElementsByClassName=e;a=d(a,b,c);document.getElementsByClassName=j;return a});if(!("string"===typeof b&&c&&"object"===a.type(c)&&Xe()))return g(b,c,f);b=g(b,i,f);b.attr(c);return b}}u("Main","Started, revision "+q("revision"));var f=od(),g=n,j;for(j in f)if(pd.exec(j)){g=k;break}("true"===f.opt_out||"false"===f.opt_out)&&ya("true"===
f.opt_out);S="true"!==f.disable&&"true"!==f.opt_out&&"true"!==y("optimizelyOptOut");wd="true"===f.editor;Ad="true"===f.show_preview;xd=f.token||l;zd=!xd&&f.load_script;Bd="true"===f.log;Cd="true"===f.verbose;t=!(Ad||g)||"true"===f.force_tracking;"false"===f.client&&(S=n,zd="js/"+Aa()+".js");zd&&!Ye()&&(u("Query","Blocked request to load unsafe script: "+zd),zd="");if(xd)Z.oa();else if(Ad&&!xd)Z.p("This preview link has expired. Please return to Optimizely and preview again to get a new link.");else{yb=
sb.get("asyncInfo")||l;j=document.location.hostname;var f=j.split("."),g=j,m=f[f.length-1];2<f.length&&"appspot"===f[f.length-2]&&"com"===m?g=f[f.length-3]+".appspot.com":1<f.length&&Qd(m,ud)&&(g=f[f.length-2]+"."+m);$d=g;P("Cookie","Guessed public suffix: %s",$d);Zd=hb(j);P("Cookie","Public suffix (from data): %s",Zd);Yd&&P("Cookie","Api public suffix (from api): %s",Yd);j=y("optimizelyBuckets");Cb=j!==i&&j!==l;a:{j="googlebot;yahoo! slurp;bingbot;bingpreview;msnbot;keynote;ktxn;khte;gomezagent;alertsite;yottaamonitor;pingdom.com_bot;aihitbot".split(";");
f=navigator.userAgent;f=f.toLowerCase();for(g=0;g<j.length;g++)if(-1!==f.indexOf(j[g])){j=k;break a}j=n}j?t=n:Cb||tb.set("first_session",k);if(j=y("optimizelyBuckets")){try{j=z(j)}catch(o){j={}}var w={};r(j,function(a,b){var b=String(b),c=C(b);if(cb(c).length>1&&b.indexOf("_")===-1){w[c]=w[c]||{};w[c][a]=b}else b!=="0"?Oc(b,"cookie")||(bf[a]=b):ld(a)});r(w,function(a,b){var c;a:{c=[];for(var d=cb(a),e=0;e<d.length;e++){var f=b[d[e]];if(f==="0"){c="";break a}c.push(f)}c=c.join("_")}c.length>0?Oc(c,
"cookie"):ld(a)})}Gd();Ga=(y("optimizelyRedirect")||"|").split("|")[0];if((j=y("optimizelyReferrer"))&&0<j.length)$b=j,B("optimizelyReferrer","");j=Hd;u("Visitor","Initializing");(f=y("optimizelyAudiences"))&&0<f.length&&r(f.split(","),p(function(a){he(this,a,k,{q:k,S:n})},j));r(Ld(),p(function(a){u("Visitor","Found segment "+a);var b=H()[a];if(b&&b.audience_id){u("Visitor","Adding to audience "+b.audience_id);he(this,b.audience_id,k,{j:n})}else if(b&&b.dimension_id){u("Visitor","Setting dimension value "+
b.dimension_id);ie(this,b.dimension_id,W[a],n)}},j));T=Hd;qc=n;Id.push(Fc);cf.push(Fc);j={$:$,activeExperiments:D||[],allExperiments:$a(),all_experiments:$a(),allVariations:q("variations")||{},data:V,getElementsByClassName:document.getElementsByClassName,revision:q("revision"),variationIdsMap:Zc,variation_map:$c,variationMap:$c,variationNamesMap:ad};var f={},x=Pd(Rc,f);Qb(f,{activate:sc,activateGeoDelayedExperiments:Ac,activateSiteCatalyst:Xb,activateUniversalAnalytics:ic,addToAudience:p(T.l,T),addToSegment:Gc,
bindTrackElement:ke,bucketUser:tc,bucketVisitor:tc,clickTaleRecord:lc,clickTalePlayback:jc,customTag:Uc,delayDomReadyEval:ye,delayPageviewTracking:dd,disable:Pc,log:Ud,getAccountId:Ba,getProjectId:Aa,googleAnalyticsCustomVariableScope:cc,integrationPrefix:mc,optOut:ya,overrideUrl:Eb,push:x,removeFromAllAudiences:p(T.ra,T),removeFromAllSegments:Xc,removeFromAudience:p(T.D,T),removeFromSegment:Vc,sc_activate:Xb,sc_svar:nc,setCookieDomain:de,skipPageTracking:id,optOutThirdPartyCookies:fd,setCookieExpiration:gd,
setDimensionValue:p(T.r,T),timeout:Pc,trackEvent:da,verbose:Vd});f.removeFromReportableAudiences=jd;Qb(j,f);f=window.optimizely;A(f)&&r(f,function(a){x(a)});window.optimizely=j;window.optimizely.iapi={evaluateSegments:ca(je,i)};var E=!q("force_variation");j=od();r(j,function(a,b){var c=pd.exec(a);if(c)if(E){yd=k;P("Query","Ignored parameter %s",a)}else{c=c[1];tc(c,b,k);wc(c,{})||sc(c,{force:k,skipPageviewTracking:k})}});yd?Z.p("Force parameters are disabled for this project. See Project Code Settings."):
(Z.log(),zd&&Rd(zd),S&&(r(Xa(),function(a){if(!Qd(a,G))if(uc(a)){if(wc(a,{objectType:"experiment"})){u("Distributor","Going to distribute "+K(a));if(xc(a)){G=G||[];G.push(a)}}}else!ab(a)&&!gb(D,a)&&vc.push(a)}),zc(),ma(),Ec||(0<ed?setTimeout(function(){qa()},ed):qa()),la(),ec()),Bd&&(r(Jc,function(a){var b=bb(a);u("Plan","Ignore experiment '"+b+"' ("+a+")")}),r(U,function(a){var b=C(a.id),c=kb(a.id);u("Plan",K(b)+' in variation "'+c+'" ('+a.id+")")})),wd?Qc():S&&(yc(),Qc(),Tc(),!q("installation_verified")&&
t&&(j="//"+q("www_host")+"/account/snippet_installed?project_id="+Aa()+"&wxhr=true",u("Tracker","Making snippet verification request."),ta(j,l))),setTimeout(function(){window.optimizelyCode={}},0),setTimeout(function(){Ac()},2E3),setTimeout(function(){if(t){var a=Jb;if(a.la){var b={user:Ha(),project:Aa(),sync:Kb,timebase:Hb,render:Mb,sampleRate:pb(),numExps:D.concat(G).length,codeVersion:q("version"),wxhr:k};Qb(b,Pb()||{});Qb(b,a.u);var a=[],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&
a.push(window.encodeURIComponent(c)+"="+window.encodeURIComponent(b[c]));ta("https://rum.optimizely.com/rum?"+a.join("&"),l)}}},3E3),$(function(){q("badge_html")&&$("body").append(q("badge_html"))}),u("Main","End of main"),Ib("mainEnd"))}}
Z.log=function(){u("Info","Is enabled: "+S);u("Info","Diagnostic enabled: false");u("Info","Force variation enabled: "+!!q("force_variation"));u("Info","Script to load: "+(zd||"none"));u("Info","Browser type: "+ub());u("Info","Browser version: "+vb());var a=Ab();"unknown"!==a&&u("Info","Mobile browser type: "+a);u("Info","New vs returning: "+Bb());u("Info","Source type: "+Kd());u("Info","User ID: "+Ha())};Z.oa=function(){Rd(["//optimizely.s3.amazonaws.com/js/preview/",xd,".js"].join(""),k);Ad&&Z.p('Loading Preview<br /><img alt="loading" src="//www.optimizely.com/static/img/loading-32.gif" style="padding-top:20px" />')};
Z.p=function(a){0===$("body").length?setTimeout(function(){Z.p(a)},20):$("body").append('<div id="optimizely-loading" style="position:absolute;top:0;right:0;left:0;bottom:0;background-color:white;opacity:0.9;z-index: 3271000;"><h2 style="color:#9a9a9a;top:40%;position:absolute;font-size:2.25em;text-align:center;width:100%;font-family:\'Lucida Grande\',sans-serif;">'+a+"</h2></div>")};Z();
optly.Cleanse.finish();
};
optimizelyCode();
